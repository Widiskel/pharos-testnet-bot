const a49_0x3c92fc=a49_0x43f2;(function(_0x5b8979,_0x25db3b){const _0x19bfce=a49_0x43f2,_0x5ba273=_0x5b8979();while(!![]){try{const _0xd03b=parseInt(_0x19bfce(0x9e,'jfT7'))/0x1*(-parseInt(_0x19bfce(0x9f,'6IKU'))/0x2)+-parseInt(_0x19bfce(0xbd,'!Qkc'))/0x3+parseInt(_0x19bfce(0xc9,'A%I9'))/0x4+parseInt(_0x19bfce(0xb3,']GbD'))/0x5+-parseInt(_0x19bfce(0xc6,'8G$S'))/0x6*(-parseInt(_0x19bfce(0xac,'H&#l'))/0x7)+-parseInt(_0x19bfce(0xc4,'Alhc'))/0x8*(-parseInt(_0x19bfce(0xb1,'C6cQ'))/0x9)+-parseInt(_0x19bfce(0xa3,'OEGK'))/0xa;if(_0xd03b===_0x25db3b)break;else _0x5ba273['push'](_0x5ba273['shift']());}catch(_0x34f55f){_0x5ba273['push'](_0x5ba273['shift']());}}}(a49_0x568c,0x9767a));const a49_0xb815ee=(function(){let _0x4fcfdc=!![];return function(_0x34e3af,_0x911029){const _0x5bb7db=_0x4fcfdc?function(){if(_0x911029){const _0x91c103=_0x911029['apply'](_0x34e3af,arguments);return _0x911029=null,_0x91c103;}}:function(){};return _0x4fcfdc=![],_0x5bb7db;};}()),a49_0x4c7c73=a49_0xb815ee(this,function(){const _0x5bfbdf=a49_0x43f2;return a49_0x4c7c73[_0x5bfbdf(0x95,'Alhc')]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a49_0x4c7c73)['search']('(((.+)+)+)+$');});a49_0x4c7c73();import{Helper}from'../utils/helper.js';import a49_0x4a94f3 from'./core.js';function a49_0x43f2(_0x2a6058,_0x1d0319){const _0x26c47f=a49_0x568c();return a49_0x43f2=function(_0x4c7c73,_0xb815ee){_0x4c7c73=_0x4c7c73-0x95;let _0x568cfb=_0x26c47f[_0x4c7c73];if(a49_0x43f2['kwFLcl']===undefined){var _0x43f25b=function(_0x2c9169){const _0x4518c4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x31c9ed='',_0x4f8e2d='',_0x30c33f=_0x31c9ed+_0x43f25b;for(let _0x11a9b9=0x0,_0x3e8304,_0x5e6443,_0x357d0f=0x0;_0x5e6443=_0x2c9169['charAt'](_0x357d0f++);~_0x5e6443&&(_0x3e8304=_0x11a9b9%0x4?_0x3e8304*0x40+_0x5e6443:_0x5e6443,_0x11a9b9++%0x4)?_0x31c9ed+=_0x30c33f['charCodeAt'](_0x357d0f+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3e8304>>(-0x2*_0x11a9b9&0x6)):_0x11a9b9:0x0){_0x5e6443=_0x4518c4['indexOf'](_0x5e6443);}for(let _0x252287=0x0,_0x3c6d49=_0x31c9ed['length'];_0x252287<_0x3c6d49;_0x252287++){_0x4f8e2d+='%'+('00'+_0x31c9ed['charCodeAt'](_0x252287)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4f8e2d);};const _0x1e0014=function(_0x242b64,_0x365bf2){let _0x156fbb=[],_0x41af31=0x0,_0x3c3ae2,_0xd38e3c='';_0x242b64=_0x43f25b(_0x242b64);let _0x3473ee;for(_0x3473ee=0x0;_0x3473ee<0x100;_0x3473ee++){_0x156fbb[_0x3473ee]=_0x3473ee;}for(_0x3473ee=0x0;_0x3473ee<0x100;_0x3473ee++){_0x41af31=(_0x41af31+_0x156fbb[_0x3473ee]+_0x365bf2['charCodeAt'](_0x3473ee%_0x365bf2['length']))%0x100,_0x3c3ae2=_0x156fbb[_0x3473ee],_0x156fbb[_0x3473ee]=_0x156fbb[_0x41af31],_0x156fbb[_0x41af31]=_0x3c3ae2;}_0x3473ee=0x0,_0x41af31=0x0;for(let _0x26f029=0x0;_0x26f029<_0x242b64['length'];_0x26f029++){_0x3473ee=(_0x3473ee+0x1)%0x100,_0x41af31=(_0x41af31+_0x156fbb[_0x3473ee])%0x100,_0x3c3ae2=_0x156fbb[_0x3473ee],_0x156fbb[_0x3473ee]=_0x156fbb[_0x41af31],_0x156fbb[_0x41af31]=_0x3c3ae2,_0xd38e3c+=String['fromCharCode'](_0x242b64['charCodeAt'](_0x26f029)^_0x156fbb[(_0x156fbb[_0x3473ee]+_0x156fbb[_0x41af31])%0x100]);}return _0xd38e3c;};a49_0x43f2['bdegGB']=_0x1e0014,_0x2a6058=arguments,a49_0x43f2['kwFLcl']=!![];}const _0x544aae=_0x26c47f[0x0],_0x413b99=_0x4c7c73+_0x544aae,_0x8dc0ba=_0x2a6058[_0x413b99];if(!_0x8dc0ba){if(a49_0x43f2['udorzt']===undefined){const _0x829437=function(_0xb928ae){this['gxSjBf']=_0xb928ae,this['RODeiz']=[0x1,0x0,0x0],this['RECEEw']=function(){return'newState';},this['jKLHCr']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['qWevro']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x829437['prototype']['UzMAsd']=function(){const _0x5a4c0b=new RegExp(this['jKLHCr']+this['qWevro']),_0x3890ca=_0x5a4c0b['test'](this['RECEEw']['toString']())?--this['RODeiz'][0x1]:--this['RODeiz'][0x0];return this['QDqQcX'](_0x3890ca);},_0x829437['prototype']['QDqQcX']=function(_0x22413d){if(!Boolean(~_0x22413d))return _0x22413d;return this['IqziGE'](this['gxSjBf']);},_0x829437['prototype']['IqziGE']=function(_0xada77c){for(let _0x48c83f=0x0,_0x3251d0=this['RODeiz']['length'];_0x48c83f<_0x3251d0;_0x48c83f++){this['RODeiz']['push'](Math['round'](Math['random']())),_0x3251d0=this['RODeiz']['length'];}return _0xada77c(this['RODeiz'][0x0]);},new _0x829437(a49_0x43f2)['UzMAsd'](),a49_0x43f2['udorzt']=!![];}_0x568cfb=a49_0x43f2['bdegGB'](_0x568cfb,_0xb815ee),_0x2a6058[_0x413b99]=_0x568cfb;}else _0x568cfb=_0x8dc0ba;return _0x568cfb;},a49_0x43f2(_0x2a6058,_0x1d0319);}import{Contract,ethers}from'ethers';import a49_0x351a5f from'./db/sqlite.js';import a49_0x37155b from'../utils/enums/tx-type.js';import{R2USD}from'./contract/r2/R2_USD.js';function a49_0x568c(){const _0x279e97=['W4CviSke','WQhcRcpcQa','WQBdNSkpCqRcOv/dLSo9W5K','cKBdUSoVomoFW5W','WQdcPWWkCSoAz8oYW6ZcUqTB','W6RdPwHih3bUWQ3cVq','WPFcLX1/W78kBrhdQCkQA1DHiZm','WRBdOMbOWP9yoe3cHSoPcW','WRNdPSoTn08OW6xdR8o9WO/cOmkTW7FcKW','wwxdSCoSoW','tCoGB8kL','iCkZWOO','WPlcKrG','WPXYWPNdMHlcPgNcISk3AmoXBq','WRhdISoArIpcItG','tffob8kKW5NdIe/cLxRdJKZdHf7cPvRdNelcHMRcICodzc7dUvNcO8oBnmksW4pcMSkxxCkFW6yMW6VcTmk3','aCo4y8kgW4RcH8kJWPfZWO/dTmotpW','W5pcUg/dJCkxjuiwWOK','W4jaW64XW5fpWRhcIIBcJK4HmqFdKHquW6ipW5BdKf9AfG/dOc3dGtRcQ8ocW7H+WR7cINXbW4lcVSkDgSoDW4tcS8kFkSowk8kUECohWRlcH8omnmoFumkdWQNdSSo0WRujW7FdGKS','sSkOW4OAW48','W74mWQuLWQajvrZdSCk3W44UoSkr','mmk1WO4','WPP1WPZdMbdcOJRcRmk/FmoYB8k9','W7hdVL5qkCk7ymo4W6VcJxvYd8oYy2pcH8kT','bSkBt143u8orW67dP1VcUSkjDa','W5JdQ8oQySoUeSoGh2GQcCo+bW','F3JdTCoJaW','lCoRCmo3W4BcMXi','kqGDu8oGWO3dN1NcLMpcNhxcHW','nCkrW6hdQCkAza','WOpdJmo0WRhdKCoYgu7cN8kgWOirl8ow','WPDmWRzKWPmmW4ldLN/dMXbL','W4O0W4lcIfxdOe7cKCkWDmoUCa','wNOugCkZWRpdG1/dTCk5W5OVa1uiWONcM8o4W5qq','WRxcVSkoe2ZdKHVdLCo8WOddTSke','WQtdQdNdR8kfa344W7RdG8oCcCkjwmotBfFdO0D+W7/dUSoOW60AfvBdHCkBbNqzqW','xgpdVG','W6CHW753nmodbSoWWR1Up33cJmod','WPBcHHn7W7GvwJhdR8kOquy','BwCFfq','WRHlWPDlWRa','W5JdJSowWR7dJmoGaa','WPXaWOLgWOK','WORdGZ1MBxqngmkxW7T3','W4FdKM7dMCk9lJaRWRxcTG','WPlcGGTSW6uqFaNdQCkMsLXEmI8HBq','ymoifHncW50bpGCCWPRcUba','vCkXp8oxWO/dGCo2WQ5Q','q8oED8ojWOH+WOSSW4nA','mSk5WP8Z','WOtdM8o9WRhdNa','WPtdKCocWQtdL8o+ney','mSkrsKizWRTEpGmuWORcGt7dT8oNvXK','aSkJWO41tdq6l8kJWPFdRSopk2VcOCk3fSkwWOmnW4FcNZK','W5BcSM/cVmoDxYvVWRVdPCokaCkglq','WPrPW6e','W4/cG8kinLW'];a49_0x568c=function(){return _0x279e97;};return a49_0x568c();}import{USDCR2}from'./contract/token/USDC.js';import{SR2USD}from'./contract/r2/SR2_USD.js';export default class R2Client{constructor(_0x1c1365){const _0x184708=a49_0x43f2;this['core']=_0x1c1365,this[_0x184708(0x99,'CYIa')]=_0x1c1365[_0x184708(0xa7,'a#83')],this['r2USDCContract']=_0x1c1365['ethersClient']['createContract'](USDCR2,![]),this['r2USDContract']=_0x1c1365['ethersClient'][_0x184708(0xc0,'^coj')](R2USD,![]),this[_0x184708(0xaf,'pl]c')]=_0x1c1365['ethersClient'][_0x184708(0xb9,'Alhc')](SR2USD,![]);}async[a49_0x3c92fc(0xb2,'6IKU')](){const _0x184a0c=a49_0x3c92fc,_0x3640e2={'mpnGC':'fQfyi','JsIJQ':function(_0x4b8b62,_0x59fc7b){return _0x4b8b62*_0x59fc7b;}};this['address']=this['core']['ethersClient']['address'];try{if(_0x3640e2['mpnGC']==='fQfyi'){await Helper['delay'](Helper['defaultLogDelay'],this[_0x184a0c(0xbf,'jfT7')],_0x184a0c(0xbe,'H&#l'),this['core']);const _0x74742b=await this['core']['ethersClient']['checkTokenBalance'](USDCR2);if(_0x74742b<=0x0){if('YcSXQ'!==_0x184a0c(0xc5,'qq]m'))return await Helper['delay'](_0x3640e2[_0x184a0c(0xc3,'qq]m')](Helper['defaultLogDelay'],0x5),this['acc'],_0x184a0c(0xaa,'m44O'),this['core']),![];else{if(_0x41aac8){const _0x215bde=_0x393ecf['apply'](_0x3551f4,arguments);return _0x276f39=null,_0x215bde;}}}else return!![];}else{const _0x104e13=_0x357d0f?function(){if(_0x41af31){const _0x2a0d55=_0x26f029['apply'](_0x829437,arguments);return _0xb928ae=null,_0x2a0d55;}}:function(){};return _0x156fbb=![],_0x104e13;}}catch(_0x35aa80){throw _0x35aa80;}}async[a49_0x3c92fc(0xa2,'NwzD')](){const _0x3cf8bc=a49_0x3c92fc,_0x5b97ce={'YRpRZ':_0x3cf8bc(0xb5,'jfT7'),'EPRTo':'vALsR'};try{const _0x25c150='1',_0x54fdbf=ethers['parseUnits'](_0x25c150,await this['r2USDCContract']['decimals']());await Helper[_0x3cf8bc(0xa4,'jfT7')](Helper[_0x3cf8bc(0xa1,'a#83')],this['acc'],_0x3cf8bc(0xbc,'wsWZ')+_0x25c150+_0x3cf8bc(0xa0,'(rg4')+_0x25c150+'\x20R2USD',this['core']),await this[_0x3cf8bc(0x9b,'i5VS')]['ethersClient'][_0x3cf8bc(0xc8,'a#83')](USDCR2,R2USD['CA']);const _0x378a94={'value':0x0,'deadline':0x0,'v':0x0,'r':'0x0000000000000000000000000000000000000000000000000000000000000000','s':_0x3cf8bc(0xad,'qq]m')},_0x2429e6=await this['r2USDContract']['mint']['populateTransaction'](this[_0x3cf8bc(0xb6,'e0hF')],_0x54fdbf,_0x378a94),_0x2dce89=await this['core']['ethersClient']['buildTxBody'](_0x2429e6,R2USD['CA']);await this[_0x3cf8bc(0x9b,'i5VS')]['ethersClient'][_0x3cf8bc(0xca,'zKwy')](_0x2dce89),await Helper['delay'](Helper['defaultLogDelay'],this['acc'],_0x3cf8bc(0x97,'A(tl')+_0x25c150+'\x20USDC\x20to\x20'+_0x25c150+'\x20R2USD',this['core']);}catch(_0x20533e){if(_0x5b97ce['YRpRZ']!==_0x5b97ce['EPRTo'])throw _0x20533e;else throw _0x123f6b;}}async['performSwapBack'](){const _0x54d698=a49_0x3c92fc;try{const _0x296a37='1',_0x233e27=ethers['parseUnits'](_0x296a37,await this['r2USDCContract']['decimals']());await Helper['delay'](Helper['defaultLogDelay'],this[_0x54d698(0xb0,'A(tl')],'Trying\x20to\x20SWAP&BURN\x20'+_0x296a37+_0x54d698(0xcb,'(pOr')+_0x296a37+_0x54d698(0x9a,'vN*d'),this['core']);const _0x39d803=await this['r2USDContract']['burn']['populateTransaction'](this['address'],_0x233e27),_0x6b3cd9=await this[_0x54d698(0xcc,'A(tl')]['ethersClient']['buildTxBody'](_0x39d803,R2USD['CA']);await this['core'][_0x54d698(0xbb,'C6cQ')]['executeTx'](_0x6b3cd9),await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Successfully\x20SWAP&BURN\x20'+_0x296a37+_0x54d698(0x9d,'!Qkc')+_0x296a37+'\x20USDC',this['core']);}catch(_0x2918e5){throw _0x2918e5;}}async['performSwapEarn'](){const _0x3604b9=a49_0x3c92fc,_0x1bfff7={'ouaEA':function(_0x13b87a,_0x1a3458){return _0x13b87a<=_0x1a3458;}};try{const _0x4f7522='1';let _0x3d31f8=await this['core']['ethersClient'][_0x3604b9(0x96,'A%I9')](R2USD);await Helper['delay'](Helper['defaultLogDelay'],this[_0x3604b9(0xa6,'rc$v')],'R2USD\x20Balance\x20:\x20'+_0x3d31f8+'\x20R2USD',this[_0x3604b9(0xa5,'43@O')]);if(_0x1bfff7[_0x3604b9(0xae,'90NV')](_0x3d31f8,0x0)){if('nZMIi'!=='nZMIi')throw _0x2f1037;else await this['performSwap'](),_0x3d31f8=await this['core']['ethersClient']['checkTokenBalance'](R2USD),await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'R2USD\x20Balance\x20:\x20'+_0x3d31f8+_0x3604b9(0xb8,'bEa9'),this[_0x3604b9(0xc2,'wsWZ')]);}await Helper[_0x3604b9(0xcd,'Alhc')](Helper['defaultLogDelay'],this['acc'],'Trying\x20to\x20SWAP&EARN\x20'+_0x4f7522+'\x20R2USD\x20to\x20'+_0x4f7522+'\x20sR2USD',this['core']),await this[_0x3604b9(0x9c,'yuS^')][_0x3604b9(0xba,'qq]m')]['approveTokenSpend'](R2USD,SR2USD['CA']);const _0x5801fc={'data':'0x1a5f0f0000000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000','to':SR2USD['CA']},_0x56bf2c=await this['core']['ethersClient']['buildTxBody'](_0x5801fc);await this['core'][_0x3604b9(0xc1,'a#83')]['executeTx'](_0x56bf2c),await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Successfully\x20SWAP&EARN\x20'+_0x4f7522+_0x3604b9(0xc7,'H&#l')+_0x4f7522+'\x20sR2USD',this['core']);}catch(_0x839a68){throw _0x839a68;}}}