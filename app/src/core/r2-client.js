const a52_0x1d661d=a52_0x542d;function a52_0xdc54(){const _0x1b2bd1=['W4ZdTSogW5a8WQ7dRCk8DX4khq','wM7cT8kZxW','A8k6fbT1WRVcS8kEsHeJqW','WQTdtmkH','ymo+WOhcKJ3dQq','WOXeFmkoWRu','WPhcRCkX','W59NqMhcKCoHxCojW5JcKwO','fxtcV8oY','WQC1mJD/WRDQqCo1mG','d1aJW4C','o8o9sKy/WP/cK8k+vbS5','ymoPqgikW5/dH8kk','u8kVkwNdI8oPWQmjWPrCymoL','W7ddT2JcHq','ySkHW5T8ymkk','DHFdQ3JcSqSDhd7cJGa6WQLJ','uwqrgCoaWQutEvBcUYJdQwi','jmkQW5ldKwJdOmksWOtdKeJdSq','WRjPo8kxWQtdPq0aWPNcL8oBW4VcQfuvffzXW7VdTSoKWRJdPa','WOScpGNdGG','u8kJjg/dJmoUWOuXWOu','W6tdONdcO2BdUtdcR8kFa8oCD8oo','W5mNzCoD','vWP7WOVdHmo6jSomj3VcVq','WQqiWPm/kcxdOLi','nSkYqNa','W6e9WRdcPHKHqCk5eZG','WOjZkSkr','vCk0m2K','W7VdStzd','or7cHNyx','W7jmWPG5hJ3dG3SYW6JdHM8','yXBcVCoHWO95uCo0WOnNWRtdMG','oZWtrG','W57dR8ogWPRcP8kWibK','pdyhqLmlWO3dP0hcQqfWx2pdTG','oWhcKgmZma','W4foASkHWPldKL4sWOpdMW','t2tdRmoYdSogW4v3','fLHDW6ZcISoqWPWlWPWPxMKHWOlcHmk1i8oWz1z4WPeW','aYhcOSomxgBdP8o3W40fW4ruca','vK7cNSotWP8','W5ntW6mrE8kAjmknfmonEhm','WRTjx8k2WQdcJq','yXhcJcldNq0RWPG','vCkZjg/dKSooWO8oWPHxtmoWtwPnACox','WRdcKSkWW6Lf','W4RdRCoCW5a','WOKYfcldGSoZta','WOJcVrfSWOv3zqJcK3ddSCosha','WPNcJeVcN8of','eCo2W5tdQmk6W4PNe8kBzCoGpG','WPddH8oPoHeTmSoVvmkOW5hdJq','W7NcOrddRmkFW77cUmkmuXbbvG','tM7cQCk0svtcGbpcGrdcOmo2qmkFW7e','WQ7dPu7cTColWPJcHmkaBtv/','W77dU3O7W78','qSk3WOtcS8oMWQX0k8kBr8oD','WOv+l8knCeBcIbVcNZBdGSk8uq','W75EtmkNWQVcPmkJ','chNcQCkXtMFcNq','W53dRCo9W4e8WRtdGmk3','W6/cUxWkW7jGfW3cJv3dUCoCgHm5W4O','DNFdJGddIWm','WP7cONlcISoRW6ZcVSkJBJbOEcbQeSoj','lCktsxiv','amonW6FdSsSMbCoxWQJcHGCv','e2/cPCoYWQ5yW7pcKI0oqvS'];a52_0xdc54=function(){return _0x1b2bd1;};return a52_0xdc54();}(function(_0x485e69,_0x1bfbfb){const _0x322e2e=a52_0x542d,_0x2a04e4=_0x485e69();while(!![]){try{const _0x523b60=parseInt(_0x322e2e(0x153,'#h^Q'))/0x1+-parseInt(_0x322e2e(0x155,'vr@G'))/0x2+parseInt(_0x322e2e(0x146,'&UUn'))/0x3*(-parseInt(_0x322e2e(0x17c,'TL^q'))/0x4)+-parseInt(_0x322e2e(0x175,'MZSd'))/0x5*(-parseInt(_0x322e2e(0x15b,'KmhY'))/0x6)+-parseInt(_0x322e2e(0x148,'2Eoo'))/0x7+parseInt(_0x322e2e(0x16b,'I40B'))/0x8*(-parseInt(_0x322e2e(0x14c,'@2QQ'))/0x9)+parseInt(_0x322e2e(0x151,'#X61'))/0xa;if(_0x523b60===_0x1bfbfb)break;else _0x2a04e4['push'](_0x2a04e4['shift']());}catch(_0xeb6497){_0x2a04e4['push'](_0x2a04e4['shift']());}}}(a52_0xdc54,0x2b379));const a52_0x189b4b=(function(){let _0x4dddcc=!![];return function(_0x66588,_0x55207e){const _0x5d49e6=_0x4dddcc?function(){if(_0x55207e){const _0x14a962=_0x55207e['apply'](_0x66588,arguments);return _0x55207e=null,_0x14a962;}}:function(){};return _0x4dddcc=![],_0x5d49e6;};}()),a52_0x1a02ee=a52_0x189b4b(this,function(){const _0x484707=a52_0x542d,_0x29f578={'DhBJv':'(((.+)+)+)+$'};return a52_0x1a02ee['toString']()[_0x484707(0x173,'gR@q')](_0x29f578[_0x484707(0x169,'KmhY')])['toString']()['constructor'](a52_0x1a02ee)[_0x484707(0x14b,'KmhY')]('(((.+)+)+)+$');});a52_0x1a02ee();import{Helper}from'../utils/helper.js';import a52_0xcf39e from'./core.js';import{Contract,ethers}from'ethers';function a52_0x542d(_0x5e7193,_0x519412){const _0x1c98fb=a52_0xdc54();return a52_0x542d=function(_0x1a02ee,_0x189b4b){_0x1a02ee=_0x1a02ee-0x13b;let _0xdc54c8=_0x1c98fb[_0x1a02ee];if(a52_0x542d['paimJZ']===undefined){var _0x542d07=function(_0x16f92f){const _0x1f15d6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xa11e1e='',_0x1ec6e1='',_0x132ba8=_0xa11e1e+_0x542d07;for(let _0x536e3a=0x0,_0x26ba86,_0x173d4d,_0x4f3d0c=0x0;_0x173d4d=_0x16f92f['charAt'](_0x4f3d0c++);~_0x173d4d&&(_0x26ba86=_0x536e3a%0x4?_0x26ba86*0x40+_0x173d4d:_0x173d4d,_0x536e3a++%0x4)?_0xa11e1e+=_0x132ba8['charCodeAt'](_0x4f3d0c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x26ba86>>(-0x2*_0x536e3a&0x6)):_0x536e3a:0x0){_0x173d4d=_0x1f15d6['indexOf'](_0x173d4d);}for(let _0x21456b=0x0,_0x964ecf=_0xa11e1e['length'];_0x21456b<_0x964ecf;_0x21456b++){_0x1ec6e1+='%'+('00'+_0xa11e1e['charCodeAt'](_0x21456b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1ec6e1);};const _0x3e8bf7=function(_0x5b4aeb,_0xa5f9cc){let _0x12e84b=[],_0x34a457=0x0,_0x4ec3a5,_0x4ace5a='';_0x5b4aeb=_0x542d07(_0x5b4aeb);let _0x55ff8d;for(_0x55ff8d=0x0;_0x55ff8d<0x100;_0x55ff8d++){_0x12e84b[_0x55ff8d]=_0x55ff8d;}for(_0x55ff8d=0x0;_0x55ff8d<0x100;_0x55ff8d++){_0x34a457=(_0x34a457+_0x12e84b[_0x55ff8d]+_0xa5f9cc['charCodeAt'](_0x55ff8d%_0xa5f9cc['length']))%0x100,_0x4ec3a5=_0x12e84b[_0x55ff8d],_0x12e84b[_0x55ff8d]=_0x12e84b[_0x34a457],_0x12e84b[_0x34a457]=_0x4ec3a5;}_0x55ff8d=0x0,_0x34a457=0x0;for(let _0x2cf89f=0x0;_0x2cf89f<_0x5b4aeb['length'];_0x2cf89f++){_0x55ff8d=(_0x55ff8d+0x1)%0x100,_0x34a457=(_0x34a457+_0x12e84b[_0x55ff8d])%0x100,_0x4ec3a5=_0x12e84b[_0x55ff8d],_0x12e84b[_0x55ff8d]=_0x12e84b[_0x34a457],_0x12e84b[_0x34a457]=_0x4ec3a5,_0x4ace5a+=String['fromCharCode'](_0x5b4aeb['charCodeAt'](_0x2cf89f)^_0x12e84b[(_0x12e84b[_0x55ff8d]+_0x12e84b[_0x34a457])%0x100]);}return _0x4ace5a;};a52_0x542d['BuwSXJ']=_0x3e8bf7,_0x5e7193=arguments,a52_0x542d['paimJZ']=!![];}const _0x2e0142=_0x1c98fb[0x0],_0x3290b9=_0x1a02ee+_0x2e0142,_0x53c1fe=_0x5e7193[_0x3290b9];if(!_0x53c1fe){if(a52_0x542d['LaFlCi']===undefined){const _0x18931f=function(_0x14deeb){this['OKxCpb']=_0x14deeb,this['ABalPf']=[0x1,0x0,0x0],this['ldeRuy']=function(){return'newState';},this['ZqyYCy']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['fwpYEf']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x18931f['prototype']['VmEmpr']=function(){const _0x13261f=new RegExp(this['ZqyYCy']+this['fwpYEf']),_0x317356=_0x13261f['test'](this['ldeRuy']['toString']())?--this['ABalPf'][0x1]:--this['ABalPf'][0x0];return this['pcujCa'](_0x317356);},_0x18931f['prototype']['pcujCa']=function(_0x4cc4e8){if(!Boolean(~_0x4cc4e8))return _0x4cc4e8;return this['LanDMf'](this['OKxCpb']);},_0x18931f['prototype']['LanDMf']=function(_0x296693){for(let _0x17ecfe=0x0,_0x6d3e9a=this['ABalPf']['length'];_0x17ecfe<_0x6d3e9a;_0x17ecfe++){this['ABalPf']['push'](Math['round'](Math['random']())),_0x6d3e9a=this['ABalPf']['length'];}return _0x296693(this['ABalPf'][0x0]);},new _0x18931f(a52_0x542d)['VmEmpr'](),a52_0x542d['LaFlCi']=!![];}_0xdc54c8=a52_0x542d['BuwSXJ'](_0xdc54c8,_0x189b4b),_0x5e7193[_0x3290b9]=_0xdc54c8;}else _0xdc54c8=_0x53c1fe;return _0xdc54c8;},a52_0x542d(_0x5e7193,_0x519412);}import a52_0x37c936 from'./db/sqlite.js';import a52_0x2e4d1d from'../utils/enums/tx-type.js';import{R2USD}from'./contract/r2/R2_USD.js';import{USDCR2}from'./contract/token/USDC.js';import{SR2USD}from'./contract/r2/SR2_USD.js';export default class R2Client{constructor(_0x4aa6d9){const _0x456c9f=a52_0x542d,_0x40bb76='1|3|0|4|2'['split']('|');let _0x236700=0x0;while(!![]){switch(_0x40bb76[_0x236700++]){case'0':this['r2USDCContract']=_0x4aa6d9['ethersClient']['createContract'](USDCR2,![]);continue;case'1':this[_0x456c9f(0x13d,'50ld')]=_0x4aa6d9;continue;case'2':this['sR2USDContract']=_0x4aa6d9[_0x456c9f(0x163,'IEGp')]['createContract'](SR2USD,![]);continue;case'3':this['acc']=_0x4aa6d9['acc'];continue;case'4':this['r2USDContract']=_0x4aa6d9['ethersClient']['createContract'](R2USD,![]);continue;}break;}}async['checkUSDCR2Balance'](){const _0x5ae647=a52_0x542d,_0x12ffeb={'CBCzk':'eXICL','CSwOh':'eOqtV'};this['address']=this['core'][_0x5ae647(0x171,'Qf77')]['address'];try{if('tZDvx'!==_0x12ffeb['CBCzk']){await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Checking\x20USDC\x20token\x20on\x20R2\x20Balance',this['core']);const _0x20f3a4=await this['core'][_0x5ae647(0x154,'bSUU')]['checkTokenBalance'](USDCR2);return _0x20f3a4<=0x0?(await Helper['delay'](Helper['defaultLogDelay']*0x5,this[_0x5ae647(0x16a,'T1A[')],'Please\x20Get\x20R2\x20USDC\x20from\x20R2\x20Discord\x20First',this[_0x5ae647(0x141,']6Qj')]),![]):_0x12ffeb['CSwOh']==='BHqAf'?!![]:!![];}else{const _0x4ebf2d=_0x5ab641['apply'](_0xb40c49,arguments);return _0x4de075=null,_0x4ebf2d;}}catch(_0x2c155e){throw _0x2c155e;}}async['performSwap'](){const _0x2d9ef9=a52_0x542d,_0x801836={'CpSbI':'(((.+)+)+)+$','oXRPy':'0x0000000000000000000000000000000000000000000000000000000000000000','qzwgG':'xNygZ'};try{const _0x3b2df9='1',_0x271428=ethers['parseUnits'](_0x3b2df9,await this[_0x2d9ef9(0x174,'(W&%')]['decimals']());await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Trying\x20to\x20SWAP&MINT\x20'+_0x3b2df9+'\x20USDC\x20to\x20'+_0x3b2df9+'\x20R2USD',this['core']),await this['core']['ethersClient']['approveTokenSpend'](USDCR2,R2USD['CA']);const _0xc2ce2a={'value':0x0,'deadline':0x0,'v':0x0,'r':_0x801836['oXRPy'],'s':'0x0000000000000000000000000000000000000000000000000000000000000000'},_0x3362a4=await this[_0x2d9ef9(0x17a,'%!gu')][_0x2d9ef9(0x16e,'TL^q')]['populateTransaction'](this['address'],_0x271428,_0xc2ce2a),_0x15e8cb=await this[_0x2d9ef9(0x13b,'XSnJ')][_0x2d9ef9(0x140,'FmW1')]['buildTxBody'](_0x3362a4,R2USD['CA']);await this['core']['ethersClient']['executeTx'](_0x15e8cb),await Helper[_0x2d9ef9(0x14e,'fIUo')](Helper[_0x2d9ef9(0x143,']6Qj')],this['acc'],'Successfully\x20SWAP&MINT\x20'+_0x3b2df9+'\x20USDC\x20to\x20'+_0x3b2df9+_0x2d9ef9(0x15f,'@2QQ'),this[_0x2d9ef9(0x17b,'rU1P')]);}catch(_0x438541){if(_0x2d9ef9(0x161,'zQd*')===_0x801836[_0x2d9ef9(0x13e,'ls8m')])throw _0x438541;else return _0x8a66e9[_0x2d9ef9(0x15d,'xcNB')]()[_0x2d9ef9(0x168,'ydbQ')]('(((.+)+)+)+$')['toString']()['constructor'](_0x5ce779)[_0x2d9ef9(0x144,'ls8m')](DufxFd[_0x2d9ef9(0x158,'#X61')]);}}async['performSwapBack'](){const _0x37fa55=a52_0x542d,_0x250c3f={'UwnPP':function(_0x49f003,_0x23d6ad){return _0x49f003!==_0x23d6ad;}};try{if(_0x37fa55(0x178,'I40B')!==_0x37fa55(0x152,'YR!f')){const _0x38040a=_0x4f3d0c?function(){if(_0x34a457){const _0x481bd3=_0x2cf89f['apply'](_0x18931f,arguments);return _0x14deeb=null,_0x481bd3;}}:function(){};return _0x12e84b=![],_0x38040a;}else{const _0x514408='1',_0x2e9fa4=ethers['parseUnits'](_0x514408,await this['r2USDCContract'][_0x37fa55(0x142,'jL]%')]());await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Trying\x20to\x20SWAP&BURN\x20'+_0x514408+_0x37fa55(0x16d,'4Y5X')+_0x514408+_0x37fa55(0x149,'IEGp'),this[_0x37fa55(0x17e,'zQd*')]);const _0xdc2688=await this['r2USDContract']['burn']['populateTransaction'](this[_0x37fa55(0x150,'I40B')],_0x2e9fa4),_0x38d300=await this['core'][_0x37fa55(0x13f,'bdtA')][_0x37fa55(0x159,'#h^Q')](_0xdc2688,R2USD['CA']);await this['core']['ethersClient']['executeTx'](_0x38d300),await Helper['delay'](Helper['defaultLogDelay'],this['acc'],_0x37fa55(0x177,'XSnJ')+_0x514408+_0x37fa55(0x17f,'Y7[J')+_0x514408+'\x20USDC',this['core']);}}catch(_0xaa642f){if(_0x250c3f['UwnPP']('bipVv','hVmDG'))throw _0xaa642f;else{if(_0x37bb53){const _0x308aa5=_0x5a9199['apply'](_0x4bd553,arguments);return _0x4b8762=null,_0x308aa5;}}}}async[a52_0x1d661d(0x156,'Q5yh')](){const _0x191160=a52_0x1d661d;try{const _0x5cbf80='1';let _0x80f1f6=await this[_0x191160(0x13c,'Qf77')][_0x191160(0x164,'xcNB')][_0x191160(0x14d,'Qf77')](R2USD);await Helper['delay'](Helper['defaultLogDelay'],this['acc'],_0x191160(0x160,'vr@G')+_0x80f1f6+'\x20R2USD',this['core']);_0x80f1f6<=0x0&&(await this['performSwap'](),_0x80f1f6=await this['core'][_0x191160(0x14a,'wE)N')]['checkTokenBalance'](R2USD),await Helper['delay'](Helper['defaultLogDelay'],this['acc'],_0x191160(0x15e,'#X61')+_0x80f1f6+'\x20R2USD',this[_0x191160(0x167,'KmhY')]));await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Trying\x20to\x20SWAP&EARN\x20'+_0x5cbf80+_0x191160(0x145,'XSnJ')+_0x5cbf80+'\x20sR2USD',this[_0x191160(0x14f,'xcNB')]),await this[_0x191160(0x16c,'IEGp')][_0x191160(0x166,'U!)(')]['approveTokenSpend'](R2USD,SR2USD['CA']);const _0x4e8f13={'data':'0x1a5f0f0000000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000','to':SR2USD['CA']},_0x1403d1=await this['core']['ethersClient'][_0x191160(0x157,'vr@G')](_0x4e8f13);await this['core']['ethersClient'][_0x191160(0x179,'Qf77')](_0x1403d1),await Helper[_0x191160(0x165,'Q5yh')](Helper['defaultLogDelay'],this['acc'],_0x191160(0x147,'chpk')+_0x5cbf80+'\x20R2USD\x20to\x20'+_0x5cbf80+'\x20sR2USD',this[_0x191160(0x172,']9AI')]);}catch(_0x5da5dc){if('EyHkV'==='EyHkV')throw _0x5da5dc;else throw _0x280aaa;}}}