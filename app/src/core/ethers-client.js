const a3_0x2c2b62=a3_0x5aa7;(function(_0x1d5e61,_0x6d7dc){const _0x5633d0=a3_0x5aa7,_0x50f2f2=_0x1d5e61();while(!![]){try{const _0x3c0865=-parseInt(_0x5633d0(0x204,'O$Hs'))/0x1*(-parseInt(_0x5633d0(0x1d2,'C&8H'))/0x2)+parseInt(_0x5633d0(0x1d3,'bzp]'))/0x3*(-parseInt(_0x5633d0(0x1e1,'Z@!s'))/0x4)+-parseInt(_0x5633d0(0x1d5,'C#^2'))/0x5+-parseInt(_0x5633d0(0x1d1,'QQNy'))/0x6+-parseInt(_0x5633d0(0x1f2,'scMo'))/0x7+parseInt(_0x5633d0(0x200,'LI51'))/0x8*(-parseInt(_0x5633d0(0x1fe,'scMo'))/0x9)+-parseInt(_0x5633d0(0x1ca,'Bixr'))/0xa*(-parseInt(_0x5633d0(0x1c9,'dXa@'))/0xb);if(_0x3c0865===_0x6d7dc)break;else _0x50f2f2['push'](_0x50f2f2['shift']());}catch(_0x27fe76){_0x50f2f2['push'](_0x50f2f2['shift']());}}}(a3_0x5e12,0xc858d));const a3_0x1d14d0=(function(){let _0x275dd7=!![];return function(_0x21779d,_0x357b06){const _0x39d4e6=_0x275dd7?function(){const _0x23b18d=a3_0x5aa7;if(_0x357b06){const _0x584781=_0x357b06[_0x23b18d(0x21d,'nVX^')](_0x21779d,arguments);return _0x357b06=null,_0x584781;}}:function(){};return _0x275dd7=![],_0x39d4e6;};}()),a3_0x2c36fa=a3_0x1d14d0(this,function(){const _0x2ca471=a3_0x5aa7,_0x428281={'BQUdT':_0x2ca471(0x215,'nVX^')};return a3_0x2c36fa['toString']()['search'](_0x428281['BQUdT'])['toString']()[_0x2ca471(0x20e,'5$kH')](a3_0x2c36fa)['search']('(((.+)+)+)+$');});a3_0x2c36fa();import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a3_0x57b899 from'../utils/logger.js';import{ethers}from'ethers';import{RPC}from'./network/rpc.js';import a3_0x41ee25 from'./core.js';import{Config}from'../../config/config.js';function a3_0x5e12(){const _0x5d7333=['W6yXsCku','fCk0WRZdRSoicI7cKIm','WQCDmSk+WQi','WPhcV19jzmk+W4RdVmo4','W55QnWtdNmoJwMVcHWmXySoI','o8kfoJC','hSoTlq','WQRcNeeGFSozqCoQqafbkmoOEszTWOakEmobEYPsW4y','WOqckmkXWOe','W4/dO8os','WQpdVNBcPSkS','W7FdISoyC1GVWROjeSkQvYGm','FCojW7JcRxu+WQhdJSoW','WQHsWOdcT8kijM7dOZOM','n8otWPDACmkEW4dcLISZdfpcOaldOW','WQLLgCoymt7dTCkDW5mXW7RdRW','W4xdVGjSCmk6W5BdQSod','WRBdKKtcLG','W4ybd8oZv8ooDSkqfXJdVa','pYayW6ldHXS','WP7cKKmIFSoo','W7tdVKDmASkGW5xdL8ojW5hdRmo8WPWozmkbmCkmdCoclHnbASkJW5CsWOpcVq','l8kdpdOgbCozW6m','ltKrW63dLXSAECka','W43dR8odeq','W7ePjCoZCG','iSoiW7vxtwLw','fXtdPfFcNCkHW7rNWQ8','W7xdT8oVWR9VxG','BcBdMmoRmb8','WRqdzCkL','W7pdUmo0W40GWOVdNCkEW5vxWPe3WP/dHgG','WRL+WR4g','tGtdTmoicZFdSmkQ','hCk7vJxdOSkRW41TWRGjW5e','W5ddUmoMW5G8WONdJSoYW61rWRK+WPBdKthcPmkrWRhcUuJcJCkKu8oEzsi','W7TKWRfkWPVcL8kAdmkPeG0','W4PiWPvKWRdcJW','hdLuW4VdMGOCwmkmCWxcNv0','dmoyW5jmW6tcTKyjbaeC','W4ldSaFcR8kWW6u','tSoEqG','kmoViSo4WOBdMq','fmkSWOZdOmoT','WRmYDJtcUSoXW4DumsJcLdeu','cLWyn39RW6SAWO8','W63dVHj1W7/dM2OzWR/dJftdT8k2W4hcMa','k8kpksabhW','EmkLWPJcGM98vmkPW43cLa','WOJcUgSjAa','W5yyW53dQCk+axtdQW4lW77dP0aXWQW','W7ZdQh4ODZTkWPO9','m8oEW75tqx5aWPC','maldLmkrEa','tSoOW6BcQCknrgZdNxeHWQNdGW','tmo2tmoSjwqIW6e5WQxcK1LSW5JcMtreWOaIna','WR0ZFKddOCkEWQPpfG','W69Lk2xdSG','W7xcOKxdS8kvEmkqvN3dLIS','dSkBWQdcNxCyWQdcQmoHWPLiWQ9KmZq','WPhdNrtcTCo3','j8ojW71euq','ySkcW4ennmk/W5JcVXiYga','W70RW6FdUCkj','WP8uW4yyuG','qSoyuHVcImkAW7i','W6PKi3BdRSk1WOa','kCkjWRJcLxqAWRhdRCotWOHF','CSkvWQLJswPCWQFcJq','egzjW5a','pmkplJmxg8omW5G/b0NcQeytqG','vuBcVMhcLSkC','sSoQvSo2phCJW6CkWQVcKG','WQZcISkPWPFcJmkwzW','WQBcI8k/WPC','sa5caxrw','WRaiCmk5W67dLsi','dmksAbCAeSoBW6eKbwNdRx0tuMhdJmoIW5C6WQGdnNHqWQXWWRRdO8oYW7SYWQT9WQZcQSkPW6RcGmo0luJcQSkzxa','cmosW4HRW6lcPv0zeq0AlH9NW79OWPC/fG','W65fASo8W7ddVt3cPLDhiWm','W7ndlCoQW47dHJpcN8osWRX2ta','kSkHWPZdGmos','d8kljd4haW','WOJcL0S8FSojrG','o8opWPX6W6JcOvaFbaSkzXfNW5GNWQe+dmorW4yxWPlcI1hcICkd'];a3_0x5e12=function(){return _0x5d7333;};return a3_0x5e12();}function a3_0x5aa7(_0x28edd6,_0x327374){const _0x4dae96=a3_0x5e12();return a3_0x5aa7=function(_0x2c36fa,_0x1d14d0){_0x2c36fa=_0x2c36fa-0x1c9;let _0x5e12a7=_0x4dae96[_0x2c36fa];if(a3_0x5aa7['jLYVNC']===undefined){var _0x5aa753=function(_0x141973){const _0x1d8bed='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x328aa9='',_0x1d9043='',_0x3487ab=_0x328aa9+_0x5aa753;for(let _0x486eb5=0x0,_0x3e3ed5,_0xb793cf,_0x40285d=0x0;_0xb793cf=_0x141973['charAt'](_0x40285d++);~_0xb793cf&&(_0x3e3ed5=_0x486eb5%0x4?_0x3e3ed5*0x40+_0xb793cf:_0xb793cf,_0x486eb5++%0x4)?_0x328aa9+=_0x3487ab['charCodeAt'](_0x40285d+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3e3ed5>>(-0x2*_0x486eb5&0x6)):_0x486eb5:0x0){_0xb793cf=_0x1d8bed['indexOf'](_0xb793cf);}for(let _0x39d209=0x0,_0x105abe=_0x328aa9['length'];_0x39d209<_0x105abe;_0x39d209++){_0x1d9043+='%'+('00'+_0x328aa9['charCodeAt'](_0x39d209)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1d9043);};const _0x18ea48=function(_0x3fa3ca,_0x4ceaff){let _0x338ee2=[],_0x5344cd=0x0,_0x50bfd6,_0x5994c6='';_0x3fa3ca=_0x5aa753(_0x3fa3ca);let _0x507297;for(_0x507297=0x0;_0x507297<0x100;_0x507297++){_0x338ee2[_0x507297]=_0x507297;}for(_0x507297=0x0;_0x507297<0x100;_0x507297++){_0x5344cd=(_0x5344cd+_0x338ee2[_0x507297]+_0x4ceaff['charCodeAt'](_0x507297%_0x4ceaff['length']))%0x100,_0x50bfd6=_0x338ee2[_0x507297],_0x338ee2[_0x507297]=_0x338ee2[_0x5344cd],_0x338ee2[_0x5344cd]=_0x50bfd6;}_0x507297=0x0,_0x5344cd=0x0;for(let _0x2ead45=0x0;_0x2ead45<_0x3fa3ca['length'];_0x2ead45++){_0x507297=(_0x507297+0x1)%0x100,_0x5344cd=(_0x5344cd+_0x338ee2[_0x507297])%0x100,_0x50bfd6=_0x338ee2[_0x507297],_0x338ee2[_0x507297]=_0x338ee2[_0x5344cd],_0x338ee2[_0x5344cd]=_0x50bfd6,_0x5994c6+=String['fromCharCode'](_0x3fa3ca['charCodeAt'](_0x2ead45)^_0x338ee2[(_0x338ee2[_0x507297]+_0x338ee2[_0x5344cd])%0x100]);}return _0x5994c6;};a3_0x5aa7['EcUSBG']=_0x18ea48,_0x28edd6=arguments,a3_0x5aa7['jLYVNC']=!![];}const _0x587b23=_0x4dae96[0x0],_0xd975f6=_0x2c36fa+_0x587b23,_0x321181=_0x28edd6[_0xd975f6];if(!_0x321181){if(a3_0x5aa7['zyMtxF']===undefined){const _0x1744ff=function(_0x2ed1fd){this['wvDZvw']=_0x2ed1fd,this['TxmyNV']=[0x1,0x0,0x0],this['kDbcBq']=function(){return'newState';},this['AfeXQa']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['IkfUzo']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1744ff['prototype']['dzdaJW']=function(){const _0x466417=new RegExp(this['AfeXQa']+this['IkfUzo']),_0x17e268=_0x466417['test'](this['kDbcBq']['toString']())?--this['TxmyNV'][0x1]:--this['TxmyNV'][0x0];return this['wXkkNv'](_0x17e268);},_0x1744ff['prototype']['wXkkNv']=function(_0x959c11){if(!Boolean(~_0x959c11))return _0x959c11;return this['NLyGkc'](this['wvDZvw']);},_0x1744ff['prototype']['NLyGkc']=function(_0xf3aacf){for(let _0x46b902=0x0,_0x34e893=this['TxmyNV']['length'];_0x46b902<_0x34e893;_0x46b902++){this['TxmyNV']['push'](Math['round'](Math['random']())),_0x34e893=this['TxmyNV']['length'];}return _0xf3aacf(this['TxmyNV'][0x0]);},new _0x1744ff(a3_0x5aa7)['dzdaJW'](),a3_0x5aa7['zyMtxF']=!![];}_0x5e12a7=a3_0x5aa7['EcUSBG'](_0x5e12a7,_0x1d14d0),_0x28edd6[_0xd975f6]=_0x5e12a7;}else _0x5e12a7=_0x321181;return _0x5e12a7;},a3_0x5aa7(_0x28edd6,_0x327374);}export default class EthersClient{constructor(_0x4cba8a,_0x25a1d3){const _0x51ff8a=a3_0x5aa7;this['core']=_0x25a1d3,this['acc']=_0x4cba8a,this['provider']=new ethers[(_0x51ff8a(0x1f8,'bzp]'))](RPC[_0x51ff8a(0x1e3,'X8Md')],RPC['CHAINID']);}async['connectWallet'](){const _0x562167=a3_0x5aa7,_0x51ce3f={'dxjUA':_0x562167(0x1d0,'j*!D'),'bNsfo':'Secret\x20Phrase','vayQg':function(_0xbc84c0,_0x36b1d9){return _0xbc84c0!==_0x36b1d9;},'aKDGs':_0x562167(0x1df,'50yr'),'rlBgK':function(_0x13a6ca,_0x5e315c){return _0x13a6ca(_0x5e315c);}};try{if('SrLPs'===_0x51ce3f[_0x562167(0x205,'$Ugw')])throw _0x203882;else{const _0x5327a5=this['acc'],_0x412677=privateKey[_0x562167(0x20f,')P]Y')](this['acc']);await Helper['delay'](Helper[_0x562167(0x1f4,'8r!I')],this['acc'],_0x562167(0x1cd,'3QnK')+(_0x412677+0x1),this['core']);const _0xe87741=Helper['determineType'](_0x5327a5);a3_0x57b899['info']('Account\x20Type\x20:\x20'+_0xe87741);if(_0xe87741==_0x51ce3f['bNsfo']){if(_0x51ce3f['vayQg'](_0x51ce3f[_0x562167(0x1f7,'3QnK')],_0x562167(0x202,'LI51')))this['wallet']=new ethers[(_0x562167(0x218,'wGeA'))]['fromPhrase'](_0x5327a5,this[_0x562167(0x1e7,'X8Md')]);else throw _0x5c8940;}else{if(_0xe87741=='Private\x20Key')this['wallet']=new ethers[(_0x562167(0x1f0,'iE@4'))](_0x5327a5['trim'](),this[_0x562167(0x1fa,'3K3A')]);else{if(_0x562167(0x217,'uMcV')==='gdjJN')throw _0x21b045;else throw _0x51ce3f[_0x562167(0x1f1,'uMcV')](Error,'Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}}this['address']=this[_0x562167(0x1da,'3QnK')]['address'],await Helper[_0x562167(0x203,'3K3A')](Helper['defaultLogDelay'],this[_0x562167(0x1ef,'Fp%(')],'Wallet\x20connected\x20'+JSON['stringify'](this['wallet']['address']),this['core']);}}catch(_0x1ad2cb){throw _0x1ad2cb;}}async['getBalance'](_0x2a6bb7=![]){const _0x8b5d02=a3_0x5aa7;try{!_0x2a6bb7&&('gCrkb'!=='gCrkb'?this['wallet']=new _0x51b1f3[(_0x8b5d02(0x1ee,'^LNI'))]['fromPhrase'](_0x233e39,this['provider']):await Helper['delay'](Helper['defaultLogDelay'],this['acc'],_0x8b5d02(0x1e9,'NNyh')+this[_0x8b5d02(0x1d9,'^Z($')][_0x8b5d02(0x219,'3QnK')],this['core']));const _0x47fc3f=ethers['formatEther'](await this['provider']['getBalance'](this[_0x8b5d02(0x20d,'Z@!s')]['address']));this['balance']={'ETH':_0x47fc3f},await Helper[_0x8b5d02(0x1ff,'scMo')](Helper['defaultLogDelay'],this['acc'],_0x8b5d02(0x201,'C&8H'),this['core']);}catch(_0xd8e01){throw _0xd8e01;}}async['transfer'](_0x2c9edd=this['address']){const _0x379bef=a3_0x5aa7,_0x299071=ethers['parseEther'](Helper['randomFloat'](Config['TXAMOUNTMIN'],Config[_0x379bef(0x1d8,'50yr')])['toString']()),_0x30a405=await this['buildTxBody'](undefined,_0x2c9edd,_0x299071);await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Trying\x20to\x20transfer\x20'+ethers['formatEther'](_0x299071)+'\x20'+RPC['SYMBOL']+'\x20to\x20'+_0x2c9edd,this[_0x379bef(0x1cb,'wGeA')]),await this[_0x379bef(0x1f9,'STkN')](_0x30a405);}async['deposit'](_0x434f5f){const _0x4edf29=a3_0x5aa7;try{await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Try\x20To\x20Wrap\x20'+RPC[_0x4edf29(0x1eb,'0Xbt')],this['core']);const _0x18a71b=new ethers['Contract'](_0x434f5f['CA'],_0x434f5f['ABI'],this[_0x4edf29(0x1e2,'Cfu*')]),_0x58d74a=ethers['parseEther'](Helper[_0x4edf29(0x1e8,'rqtk')](Config['TXAMOUNTMIN'],Config['TXAMOUNTMAX'])['toString']()),_0x3cbcf4=_0x18a71b['deposit']['populateTransaction'](),_0xa8b670=await this[_0x4edf29(0x1ea,'0Xbt')](_0x3cbcf4,undefined,_0x58d74a);await this['executeTx'](_0xa8b670),await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Successfully\x20Wrap\x20'+RPC['SYMBOL'],this['core']);}catch(_0x4d6308){throw _0x4d6308;}}async['withdraw'](_0x5674e0){const _0x25438e=a3_0x5aa7;try{await Helper['delay'](Helper[_0x25438e(0x1d4,'O$Hs')],this[_0x25438e(0x1cc,'iE@4')],'Trying\x20to\x20Unwrap\x20Token',this['core']);const _0x4e9af8=new ethers['Contract'](_0x5674e0['CA'],_0x5674e0['ABI'],this['wallet']),_0x12e5ca=await _0x4e9af8['balanceOf'](this['wallet'][_0x25438e(0x1e0,'3K3A')]),_0x26f84f=_0x12e5ca;a3_0x57b899[_0x25438e(0x1e4,'2wR5')]('Unwrapping\x20'+ethers['formatEther'](_0x26f84f)+'\x20W'+RPC['SYMBOL']);const _0x1a17fb=_0x4e9af8[_0x25438e(0x1dc,'wGeA')]['populateTransaction'](_0x26f84f),_0x53c9dd=await this['buildTxBody'](_0x1a17fb,undefined,0x0);await this[_0x25438e(0x1dd,'^Z($')](_0x53c9dd),await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Successfully\x20Unwrap\x20'+RPC['SYMBOL'],this['core']);}catch(_0x4ddf75){throw _0x4ddf75;}}async[a3_0x2c2b62(0x1d6,'dXa@')](_0x494a93){const _0x54f456=a3_0x2c2b62;try{a3_0x57b899['info']('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x494a93))),await Helper['delay'](Helper['defaultLogDelay'],this[_0x54f456(0x1cf,'%evo')],'Executing\x20TX...',this[_0x54f456(0x1de,'%evo')]);const _0x386b1e=await this['wallet']['sendTransaction'](_0x494a93);a3_0x57b899['info'](_0x54f456(0x1ec,'^Z($')+RPC['EXPLORER']+'tx/'+_0x386b1e['hash']),await Helper[_0x54f456(0x1fb,'Yn08')](Helper[_0x54f456(0x20c,'wGeA')],this['acc'],_0x54f456(0x213,'wGeA'),this['core']);const _0x37e3b3=await _0x386b1e[_0x54f456(0x21b,'C#^2')]();a3_0x57b899['info'](_0x54f456(0x1db,'dXa@')+JSON[_0x54f456(0x21c,'uMcV')](_0x37e3b3)),await Helper['delay'](Helper[_0x54f456(0x1e5,'NNyh')],this['acc'],_0x54f456(0x21a,'wj$u')+RPC['EXPLORER']+'tx/'+_0x37e3b3['hash'],this['core']),await this['getBalance'](!![]);}catch(_0x159776){if('zpGLh'!=='VtZnn'){if(_0x159776[_0x54f456(0x207,'Fp%(')]['includes']('504'))await Helper['delay'](Helper['defaultLogDelay'],this['acc'],_0x159776[_0x54f456(0x212,'2wR5')],this['core']);else throw _0x159776;}else this['core']=_0x66f1f,this['acc']=_0x4adf55,this['provider']=new _0x596f6c['JsonRpcProvider'](_0x547519['RPCURL'],_0x2cc781['CHAINID']);}}async['getOptimalNonce'](){const _0x43a6f4=a3_0x2c2b62;try{const _0x2a7e5e=await this['provider'][_0x43a6f4(0x214,'wj$u')](this[_0x43a6f4(0x211,'6w*l')]['address'],'latest'),_0x50b437=await this['provider']['getTransactionCount'](this['wallet'][_0x43a6f4(0x208,'scMo')],'pending'),_0x42f10a=_0x50b437>_0x2a7e5e?_0x50b437:_0x2a7e5e;return _0x42f10a;}catch(_0x42a87a){throw _0x42a87a;}}async[a3_0x2c2b62(0x1fd,'5$kH')](_0x168d72,_0x41b788,_0x1fedff,_0x569a67=![],_0x3d157b=0x3,_0x4e7dee=0xbb8){const _0x51904d=a3_0x2c2b62,_0x1231df={'BojcZ':function(_0x1e1c8d,_0x71cc14){return _0x1e1c8d===_0x71cc14;},'PlGbI':'UxfJE','ccqWj':function(_0xb49dd7,_0x251a71){return _0xb49dd7(_0x251a71);}};for(let _0x2ddd8d=0x0;_0x2ddd8d<_0x3d157b;_0x2ddd8d++){if(_0x1231df['BojcZ'](_0x1231df['PlGbI'],'eGvWw'))return _0x53431b['toString']()[_0x51904d(0x1f5,'wGeA')](_0x51904d(0x1fc,'uMcV'))['toString']()[_0x51904d(0x1ed,'wj$u')](_0xd888bb)['search']('(((.+)+)+)+$');else try{a3_0x57b899[_0x51904d(0x20b,'iumO')]('Estimating\x20Gas\x20for\x20'+_0x1fedff+'\x20TX');const _0x4717d2=await this['provider'][_0x51904d(0x209,'C&8H')]({'from':this['wallet']['address'],'to':_0x168d72,'value':_0x41b788,'data':_0x1fedff});return _0x4717d2;}catch(_0x2ec520){if(_0x569a67)throw _0x2ec520;else{await Helper['delay'](_0x4e7dee,this['acc'],_0x2ec520['reason']+_0x51904d(0x216,'2wR5')+(_0x2ddd8d+0x1)+_0x51904d(0x1e6,'0Xbt')+_0x3d157b,this[_0x51904d(0x210,')P]Y')]);if(_0x1231df[_0x51904d(0x1ce,'nVX^')](_0x2ddd8d,_0x3d157b-0x1))throw _0x1231df[_0x51904d(0x206,'a(bs')](Error,'Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x3d157b+'\x20attempts.');}}}}async['buildTxBody'](_0x2ad0cd,_0x56e27c,_0xe2e119=0x0,_0x169ad1=![]){const _0x35ac78=a3_0x2c2b62,_0x390306=await this['getOptimalNonce'](),_0x3b9078=await this['estimateGasWithRetry'](_0x2ad0cd?.['to']??_0x56e27c,_0xe2e119,_0x2ad0cd?.[_0x35ac78(0x1d7,'j*!D')]??'0x',_0x169ad1),_0x39d78c={'to':_0x2ad0cd?.['to']??_0x56e27c,'from':this['address'],'value':_0xe2e119,'gasLimit':_0x3b9078,'gasPrice':ethers['parseUnits']('1.5','gwei'),'nonce':_0x390306,'data':_0x2ad0cd?.['data']??'0x'};return _0x39d78c;}}