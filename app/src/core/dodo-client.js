const a21_0x17a004=a21_0x90e6;(function(_0x10226e,_0x26ba40){const _0x36bdb3=a21_0x90e6,_0x28ed6c=_0x10226e();while(!![]){try{const _0x8897c3=-parseInt(_0x36bdb3(0x22e,'s1bK'))/0x1*(-parseInt(_0x36bdb3(0x204,'pP!W'))/0x2)+parseInt(_0x36bdb3(0x21f,'Y03r'))/0x3+-parseInt(_0x36bdb3(0x215,'@C(x'))/0x4*(parseInt(_0x36bdb3(0x218,'vfUl'))/0x5)+-parseInt(_0x36bdb3(0x200,'vfUl'))/0x6*(parseInt(_0x36bdb3(0x211,'P%li'))/0x7)+-parseInt(_0x36bdb3(0x21c,'Y03r'))/0x8+-parseInt(_0x36bdb3(0x1f4,'cJSH'))/0x9+parseInt(_0x36bdb3(0x214,'plfz'))/0xa;if(_0x8897c3===_0x26ba40)break;else _0x28ed6c['push'](_0x28ed6c['shift']());}catch(_0x1b772b){_0x28ed6c['push'](_0x28ed6c['shift']());}}}(a21_0x2bcf,0x55c39));const a21_0x3b27b1=(function(){const _0x2a1096={'UECWM':'kSOhv'};let _0x3dc1a8=!![];return function(_0x2e5b25,_0x48447c){const _0x6689c6=_0x3dc1a8?function(){const _0x4e1f5c=a21_0x90e6;if(_0x48447c){if(_0x2a1096[_0x4e1f5c(0x226,'YeBQ')]===_0x2a1096['UECWM']){const _0x17be65=_0x48447c['apply'](_0x2e5b25,arguments);return _0x48447c=null,_0x17be65;}else{_0x6af35f['error']('Failed\x20to\x20get\x20decimals\x20for\x20token\x20'+_0xb6405e+':\x20'+_0xf73c44['message']);throw _0x5a384a;}}}:function(){};return _0x3dc1a8=![],_0x6689c6;};}()),a21_0x4dec34=a21_0x3b27b1(this,function(){const _0x4a7610=a21_0x90e6;return a21_0x4dec34['toString']()['search'](_0x4a7610(0x20c,'Aqnn'))['toString']()['constructor'](a21_0x4dec34)['search'](_0x4a7610(0x1f8,'J5(s'));});a21_0x4dec34();import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a21_0x27424f from'../utils/logger.js';function a21_0x90e6(_0x32de8e,_0xf4b69f){const _0x52cb87=a21_0x2bcf();return a21_0x90e6=function(_0x4dec34,_0x3b27b1){_0x4dec34=_0x4dec34-0x1f2;let _0x2bcfcd=_0x52cb87[_0x4dec34];if(a21_0x90e6['KpRDBY']===undefined){var _0x90e651=function(_0x231643){const _0x31f671='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x102293='',_0x312ba1='',_0x55d988=_0x102293+_0x90e651;for(let _0x5d5aca=0x0,_0x20662e,_0xb42e29,_0x3809a3=0x0;_0xb42e29=_0x231643['charAt'](_0x3809a3++);~_0xb42e29&&(_0x20662e=_0x5d5aca%0x4?_0x20662e*0x40+_0xb42e29:_0xb42e29,_0x5d5aca++%0x4)?_0x102293+=_0x55d988['charCodeAt'](_0x3809a3+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x20662e>>(-0x2*_0x5d5aca&0x6)):_0x5d5aca:0x0){_0xb42e29=_0x31f671['indexOf'](_0xb42e29);}for(let _0x3aa2c5=0x0,_0x53727d=_0x102293['length'];_0x3aa2c5<_0x53727d;_0x3aa2c5++){_0x312ba1+='%'+('00'+_0x102293['charCodeAt'](_0x3aa2c5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x312ba1);};const _0x18b83c=function(_0x443f55,_0x69d6d4){let _0x2dc373=[],_0x21a3e=0x0,_0x182a05,_0x56da83='';_0x443f55=_0x90e651(_0x443f55);let _0xe9d390;for(_0xe9d390=0x0;_0xe9d390<0x100;_0xe9d390++){_0x2dc373[_0xe9d390]=_0xe9d390;}for(_0xe9d390=0x0;_0xe9d390<0x100;_0xe9d390++){_0x21a3e=(_0x21a3e+_0x2dc373[_0xe9d390]+_0x69d6d4['charCodeAt'](_0xe9d390%_0x69d6d4['length']))%0x100,_0x182a05=_0x2dc373[_0xe9d390],_0x2dc373[_0xe9d390]=_0x2dc373[_0x21a3e],_0x2dc373[_0x21a3e]=_0x182a05;}_0xe9d390=0x0,_0x21a3e=0x0;for(let _0x1ad706=0x0;_0x1ad706<_0x443f55['length'];_0x1ad706++){_0xe9d390=(_0xe9d390+0x1)%0x100,_0x21a3e=(_0x21a3e+_0x2dc373[_0xe9d390])%0x100,_0x182a05=_0x2dc373[_0xe9d390],_0x2dc373[_0xe9d390]=_0x2dc373[_0x21a3e],_0x2dc373[_0x21a3e]=_0x182a05,_0x56da83+=String['fromCharCode'](_0x443f55['charCodeAt'](_0x1ad706)^_0x2dc373[(_0x2dc373[_0xe9d390]+_0x2dc373[_0x21a3e])%0x100]);}return _0x56da83;};a21_0x90e6['MUqmMr']=_0x18b83c,_0x32de8e=arguments,a21_0x90e6['KpRDBY']=!![];}const _0x346000=_0x52cb87[0x0],_0xe03012=_0x4dec34+_0x346000,_0x57dc7e=_0x32de8e[_0xe03012];if(!_0x57dc7e){if(a21_0x90e6['rNVejW']===undefined){const _0x64fac=function(_0x19d768){this['YsJVfD']=_0x19d768,this['bedzDF']=[0x1,0x0,0x0],this['yUszrt']=function(){return'newState';},this['cQUniV']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['tVBUAH']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x64fac['prototype']['nzruGB']=function(){const _0x5f322a=new RegExp(this['cQUniV']+this['tVBUAH']),_0x2f4e86=_0x5f322a['test'](this['yUszrt']['toString']())?--this['bedzDF'][0x1]:--this['bedzDF'][0x0];return this['YzhEjd'](_0x2f4e86);},_0x64fac['prototype']['YzhEjd']=function(_0x25129d){if(!Boolean(~_0x25129d))return _0x25129d;return this['xEXCtF'](this['YsJVfD']);},_0x64fac['prototype']['xEXCtF']=function(_0x4a22d3){for(let _0x1e55b2=0x0,_0x5f576e=this['bedzDF']['length'];_0x1e55b2<_0x5f576e;_0x1e55b2++){this['bedzDF']['push'](Math['round'](Math['random']())),_0x5f576e=this['bedzDF']['length'];}return _0x4a22d3(this['bedzDF'][0x0]);},new _0x64fac(a21_0x90e6)['nzruGB'](),a21_0x90e6['rNVejW']=!![];}_0x2bcfcd=a21_0x90e6['MUqmMr'](_0x2bcfcd,_0x3b27b1),_0x32de8e[_0xe03012]=_0x2bcfcd;}else _0x2bcfcd=_0x57dc7e;return _0x2bcfcd;},a21_0x90e6(_0x32de8e,_0xf4b69f);}import{ethers}from'ethers';import{RPC}from'./network/rpc.js';import a21_0x49b6c8 from'./core.js';import{Config}from'../../config/config.js';function a21_0x2bcf(){const _0x181788=['W4bksGy0WOjapmkWhW','jKJcOHC','WPNdQb9/WQqhWR7cMmkXW5WrWONdKa','yIHIfG0ZdSkaWRLkh0Cy','WRP8W5uteSo9WPaNc8oUwmoLeCodbq/cGCoubIZdNmoasbCBFg5KW43cNfHvW77dOWaqmIZdVauVmSkszcZcTmoCBWyIzmk6W7SDfh1uwCor','WP/dRH95WQyeW7RcTCkNW6utWQS','sM8WjhZdJxChiCkFW4ib','buzYWRzTA8k/Ffm','W4nawJ0AWPLmgCkghZruWOz4','W6C8vSo4msf7tJxcJWtdNa','W73dQ8oRlmoi','i0RcTq','rCk0tI7cMa','omkdrmkguuRdMH7dQCkLW7BdVCodW4HpmCocWODO','CmkPD8o8WOGoz0S','zmkQkW7dMXK5u05qW4pcMmo3la','tmorW7L0hLr3WOJcH8kx','q8kxBhNdIx3dJW','W7BdMuKpW6vc','lmkYDmkxEa','WPXBW7GHh3mS','W4T7W5Cmfu4SW6RdIgjcWR4','W67dHtVdQq','qmoKW5WEW6SUWQtcOmoefmkTAHnX','W74Ol8oBeSoiaSoUWRu','W7ZcKmk/WQtdKcmplmkIWRZcOSk6EG','A8o+W55yoMu','y8kJumoCWPumBeldU8o2WPldUsFcNczZ','BSo9W7mJ','WPSMEWDYA8okseuHW7Hs','fCkIx1a','nctdS1u2c8k6aG','W6RdJZ3dMmk+egKWW6CairlcJSoG','WONdGCoHW7JcHN4AdmkCW5dcJCk2tv/cJXdcRCojh8kYW5bDWRddQ8owWRmVW5O0WOWVF8ko','DmkqErG','W5VdT28J','B8oiuCoLCSkv','WR1+WObMieldLCoRv8k/lCk2','emkZw0pdNKxdQCkRs1SAWPRdJSogWOXqW7e','W4DHaf0Rk8kpbG','W7yeiSkTAG','WR7cMhZcVSoHsvuoW7WOpGO','W7L6W7pcKW','ymkNumoP','W4bksGyJW4bOgCkXkZboWR51WQ/cHW','uCoOD8oFqCkfWPrbase','W4mNFmoPea','W6xcG0FcRxHz','WPtcJdOT','cCkHlCkcd8o5W5ebxNVcOhW','F8oPsSkmW4G','WRGUk8o8','tCkocXpdOJC','tLVcVmoawKJcSrxdQCk+zmkHiSkb','W4efWOb+dSklW6mU','W5DRmea0i8kneG','oJ0Se8kvdrNcLSooh8oQWPXGBsW','BhZcPqbYx8oNqCkSW7zvW5Tyqa','D8oRlCowW7zrlwdcO8kvhmoL','WP9VW7xdNYLzWQWgW6X5WOChFw4loCkWfLRcUMiEmZBcK24','bIK7q8oJ','WRWBW6eRDIxdQq','WQJdHCo8W5dcJh5vkSkCWOxcNSk2'];a21_0x2bcf=function(){return _0x181788;};return a21_0x2bcf();}import{Contract}from'ethers';import a21_0x3ce183 from'./db/sqlite.js';import a21_0x45b720 from'../utils/enums/tx-type.js';import{V3POOLABI}from'./contract/uniswap-v3/V3POOL.js';import a21_0x56a888 from'./ethers-client.js';export default class DodoClient{constructor(_0x59f11,_0x6d1ca9,_0xec5fb3){const _0x557676=a21_0x90e6;this[_0x557676(0x230,'pP!W')]=_0x6d1ca9,this['acc']=_0x59f11,this[_0x557676(0x22f,'s1bK')]=_0xec5fb3,this['defaultFeeTier']=0xbb8,this['dodoApiKey']='a37546505892e1a952';}async[a21_0x17a004(0x1f6,'kIZc')](_0x2870c8){const _0x39a211=a21_0x17a004;try{const _0x58e8cf=this[_0x39a211(0x223,'Fl4l')]['createContract'](_0x2870c8);return _0x2870c8[_0x39a211(0x22c,'QKNm')]?RPC['DECIMALS']:await _0x58e8cf[_0x39a211(0x212,'J5(s')]();}catch(_0x303f75){a21_0x27424f['error']('Failed\x20to\x20get\x20decimals\x20for\x20token\x20'+_0x2870c8+':\x20'+_0x303f75['message']);throw _0x303f75;}}async['getTokenSymbol'](_0x89aac5){const _0x28a715=a21_0x17a004,_0x5cb20b={'ZMQBJ':_0x28a715(0x22d,'9qgA'),'aXBgh':'QpRnC'};try{if(_0x5cb20b['ZMQBJ']!==_0x28a715(0x203,'wMG2')){const _0xe01b8e=this['ethersClient'][_0x28a715(0x1f2,'#696')](_0x89aac5);return _0x89aac5[_0x28a715(0x20f,'pcFP')]?RPC['SYMBOL']:await _0xe01b8e[_0x28a715(0x20a,'!Lp9')]();}else this['core']=_0x28dd3d,this['acc']=_0x4b3c9a,this['ethersClient']=_0x225dc3,this['defaultFeeTier']=0xbb8,this['dodoApiKey']='a37546505892e1a952';}catch(_0x4399c7){if(_0x28a715(0x209,'Fl4l')!==_0x5cb20b['aXBgh']){a21_0x27424f['error'](_0x28a715(0x1fc,'cJSH')+_0x89aac5+':\x20'+_0x4399c7['message']);throw _0x4399c7;}else{const _0x360997=_0x75cdd3['apply'](_0xe761b,arguments);return _0x11dee8=null,_0x360997;}}}async['getDodoRoute'](_0x3b1ae2,_0x44b2b6,_0x6bb121){const _0x1eab35=a21_0x17a004,_0x20691b={'YOxPa':'no\x20route','RBuvP':'dWAek','BNUOb':function(_0x2c4bba,_0xba4939){return _0x2c4bba(_0xba4939);}};await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Getting\x20Route\x20of\x20'+await this[_0x1eab35(0x229,'pcFP')](_0x3b1ae2)+_0x1eab35(0x205,'%]Vp')+await this[_0x1eab35(0x222,'eO(%')](_0x44b2b6)+'..',this[_0x1eab35(0x20e,'EfZI')]);const _0xfb905d={'chainId':RPC['CHAINID'],'deadLine':Helper['createTxDeadline'](),'apikey':this[_0x1eab35(0x21a,'eO(%')],'slippage':Helper['slippageTolerance'],'source':_0x1eab35(0x207,'eO(%'),'toTokenAddress':_0x44b2b6['CA'],'fromTokenAddress':_0x3b1ae2['CA'],'userAddr':this['ethersClient']['address'],'estimateGas':!![],'fromAmount':_0x6bb121[_0x1eab35(0x202,'J5(s')]()},_0x376198=await this[_0x1eab35(0x1fe,'QKNm')][_0x1eab35(0x224,'cPud')](_0x1eab35(0x21e,'KHpG')+Helper['createQueryString'](_0xfb905d));if(_0x376198['data']['status']!=0xc8){if(!_0x376198['data'][_0x1eab35(0x1f9,'0t)Y')][_0x1eab35(0x1fa,'plfz')]('no\x20route'))return a21_0x27424f['error'](_0x1eab35(0x216,'%]Vp')+_0x376198['data']['data']+'.\x20Retrying...'),this['getDodoRoute'](_0x3b1ae2,_0x44b2b6,_0x6bb121);else{if('wgCKT'===_0x20691b['RBuvP']){if(!_0xf8db91['data'][_0x1eab35(0x206,'kIZc')]['includes'](_0x20691b[_0x1eab35(0x20d,'Xfkj')]))return _0xc47f8d[_0x1eab35(0x217,'zOgT')](_0x1eab35(0x216,'%]Vp')+_0x3b2db2[_0x1eab35(0x21b,'pOut')][_0x1eab35(0x1fd,'YeBQ')]+'.\x20Retrying...'),this[_0x1eab35(0x219,'cJSH')](_0x18b41a,_0xd27684,_0x5f471e);else throw _0x35a394('Failed\x20to\x20get\x20DODO\x20route:\x20'+_0xffdb32['data']['data']);}else throw _0x20691b['BNUOb'](Error,'Failed\x20to\x20get\x20DODO\x20route:\x20'+_0x376198['data']['data']);}}return _0x376198[_0x1eab35(0x1f7,'ZPXC')]['data'];}async['dodoSwap'](_0x1eae44,_0x1ad652,_0x2e9ce9,_0x21a4f9){const _0xf2aa67=a21_0x17a004;let _0x4c9086=_0x1eae44[_0xf2aa67(0x1ff,'Aqnn')]?ethers[_0xf2aa67(0x208,'Aqnn')](_0x2e9ce9[_0xf2aa67(0x228,'kIZc')](),await this['getTokenDecimals'](_0x1eae44)):ethers['parseUnits'](_0x2e9ce9['toString'](),await this['getTokenDecimals'](_0x1eae44));await Helper['delay'](Helper['defaultLogDelay']/0x2,this['acc'],'Try\x20To\x20Swap\x20'+_0x2e9ce9+'\x20'+await this['getTokenSymbol'](_0x1eae44)+'\x20to\x20???\x20'+await this['getTokenSymbol'](_0x1ad652),this[_0xf2aa67(0x20b,'SATl')]);const _0x16dc67=await this['getDodoRoute'](_0x1eae44,_0x1ad652,_0x4c9086),_0x1f5fb1=_0x16dc67[_0xf2aa67(0x221,'xmU@')];!_0x1eae44['NATIVE']&&await this['ethersClient'][_0xf2aa67(0x201,'0t)Y')](_0x1eae44,_0x21a4f9['CA']);await Helper['delay'](Helper['defaultLogDelay']*0x2,this[_0xf2aa67(0x225,'pOut')],_0xf2aa67(0x227,'9qgA')+_0x2e9ce9+'\x20'+await this[_0xf2aa67(0x1fb,'pP!W')](_0x1eae44)+'\x20to\x20'+_0x1f5fb1+'\x20'+await this['getTokenSymbol'](_0x1ad652),this['core']);const _0xfabb2c={'data':_0x16dc67['data'],'to':_0x16dc67['to']},_0x3a0e78=await this['ethersClient']['buildTxBody'](_0xfabb2c,_0x1eae44[_0xf2aa67(0x1f5,'[O&[')]?_0x16dc67['value']:0x0);await this['ethersClient'][_0xf2aa67(0x1f3,'pI7o')](_0x3a0e78),await a21_0x3ce183[_0xf2aa67(0x22a,'[O&[')](this['address'],new Date()['toISOString'](),a21_0x45b720['Type']['SWAP']),await Helper['delay'](Helper[_0xf2aa67(0x213,'wiaV')],this['acc'],'Successfully\x20swap\x20'+_0x2e9ce9+'\x20'+await this['getTokenSymbol'](_0x1eae44)+'\x20to\x20'+_0x1f5fb1+'\x20'+await this[_0xf2aa67(0x210,'1BIr')](_0x1ad652),this['core']);}}