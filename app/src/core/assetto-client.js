const a3_0x609288=a3_0xef3b;(function(_0x368770,_0xa87c3b){const _0x2891e4=a3_0xef3b,_0x1b31d6=_0x368770();while(!![]){try{const _0xbc1481=-parseInt(_0x2891e4(0xf1,'ljuV'))/0x1+-parseInt(_0x2891e4(0xf6,'pmO#'))/0x2*(-parseInt(_0x2891e4(0xfa,'biXi'))/0x3)+-parseInt(_0x2891e4(0x10c,'dVKb'))/0x4+-parseInt(_0x2891e4(0x110,'knvm'))/0x5+parseInt(_0x2891e4(0x112,'iZu)'))/0x6+parseInt(_0x2891e4(0xf9,'8F&6'))/0x7+parseInt(_0x2891e4(0x103,'zQLr'))/0x8*(parseInt(_0x2891e4(0x121,'knvm'))/0x9);if(_0xbc1481===_0xa87c3b)break;else _0x1b31d6['push'](_0x1b31d6['shift']());}catch(_0x2e3bfc){_0x1b31d6['push'](_0x1b31d6['shift']());}}}(a3_0x3466,0x85570));const a3_0x5eee9d=(function(){const _0x245330=a3_0xef3b,_0x93e739={'OwcjN':_0x245330(0x10d,'64Q&')};let _0x5a117b=!![];return function(_0x4aebe6,_0x295ec7){const _0x1c458a={'IuNyP':_0x93e739['OwcjN']},_0x4a2b39=_0x5a117b?function(){if('tpdWQ'!==_0x1c458a['IuNyP']){if(_0x295ec7){const _0x7af1ed=_0x295ec7['apply'](_0x4aebe6,arguments);return _0x295ec7=null,_0x7af1ed;}}else{this['subscribeAttempt']=0x0;throw _0x386d76;}}:function(){};return _0x5a117b=![],_0x4a2b39;};}()),a3_0x2b56ab=a3_0x5eee9d(this,function(){return a3_0x2b56ab['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a3_0x2b56ab)['search']('(((.+)+)+)+$');});a3_0x2b56ab();import a3_0x5e7b9d from'./core.js';import{Contract,ethers}from'ethers';import{Helper}from'../utils/helper.js';import{CASHPLUSATLANTIC}from'./contract/assetto/CASHPLUSATLANTIC.js';function a3_0xef3b(_0x4f7a30,_0x3d4c0e){const _0x21216a=a3_0x3466();return a3_0xef3b=function(_0x2b56ab,_0x5eee9d){_0x2b56ab=_0x2b56ab-0xef;let _0x3466a4=_0x21216a[_0x2b56ab];if(a3_0xef3b['PJcovp']===undefined){var _0xef3b37=function(_0x55cd7e){const _0x155d04='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x9cb6ce='',_0x154ab7='',_0x252bd9=_0x9cb6ce+_0xef3b37;for(let _0x4a8ace=0x0,_0x397a75,_0x5181d5,_0x4de202=0x0;_0x5181d5=_0x55cd7e['charAt'](_0x4de202++);~_0x5181d5&&(_0x397a75=_0x4a8ace%0x4?_0x397a75*0x40+_0x5181d5:_0x5181d5,_0x4a8ace++%0x4)?_0x9cb6ce+=_0x252bd9['charCodeAt'](_0x4de202+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x397a75>>(-0x2*_0x4a8ace&0x6)):_0x4a8ace:0x0){_0x5181d5=_0x155d04['indexOf'](_0x5181d5);}for(let _0x20fa29=0x0,_0x2ddd96=_0x9cb6ce['length'];_0x20fa29<_0x2ddd96;_0x20fa29++){_0x154ab7+='%'+('00'+_0x9cb6ce['charCodeAt'](_0x20fa29)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x154ab7);};const _0x551a15=function(_0x47195,_0x2a2215){let _0x3b74fa=[],_0x5c9cf1=0x0,_0x23ed8c,_0x7a8170='';_0x47195=_0xef3b37(_0x47195);let _0x3bc3e2;for(_0x3bc3e2=0x0;_0x3bc3e2<0x100;_0x3bc3e2++){_0x3b74fa[_0x3bc3e2]=_0x3bc3e2;}for(_0x3bc3e2=0x0;_0x3bc3e2<0x100;_0x3bc3e2++){_0x5c9cf1=(_0x5c9cf1+_0x3b74fa[_0x3bc3e2]+_0x2a2215['charCodeAt'](_0x3bc3e2%_0x2a2215['length']))%0x100,_0x23ed8c=_0x3b74fa[_0x3bc3e2],_0x3b74fa[_0x3bc3e2]=_0x3b74fa[_0x5c9cf1],_0x3b74fa[_0x5c9cf1]=_0x23ed8c;}_0x3bc3e2=0x0,_0x5c9cf1=0x0;for(let _0x56d390=0x0;_0x56d390<_0x47195['length'];_0x56d390++){_0x3bc3e2=(_0x3bc3e2+0x1)%0x100,_0x5c9cf1=(_0x5c9cf1+_0x3b74fa[_0x3bc3e2])%0x100,_0x23ed8c=_0x3b74fa[_0x3bc3e2],_0x3b74fa[_0x3bc3e2]=_0x3b74fa[_0x5c9cf1],_0x3b74fa[_0x5c9cf1]=_0x23ed8c,_0x7a8170+=String['fromCharCode'](_0x47195['charCodeAt'](_0x56d390)^_0x3b74fa[(_0x3b74fa[_0x3bc3e2]+_0x3b74fa[_0x5c9cf1])%0x100]);}return _0x7a8170;};a3_0xef3b['YXqQpx']=_0x551a15,_0x4f7a30=arguments,a3_0xef3b['PJcovp']=!![];}const _0x205a87=_0x21216a[0x0],_0xeac427=_0x2b56ab+_0x205a87,_0x576695=_0x4f7a30[_0xeac427];if(!_0x576695){if(a3_0xef3b['OawQvU']===undefined){const _0x4d75c1=function(_0x332e2f){this['PBsRoU']=_0x332e2f,this['lpTYyV']=[0x1,0x0,0x0],this['WIecIm']=function(){return'newState';},this['BpwVfl']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['yoDbLA']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4d75c1['prototype']['frAgVf']=function(){const _0x18a9fd=new RegExp(this['BpwVfl']+this['yoDbLA']),_0x33e85d=_0x18a9fd['test'](this['WIecIm']['toString']())?--this['lpTYyV'][0x1]:--this['lpTYyV'][0x0];return this['LujrXV'](_0x33e85d);},_0x4d75c1['prototype']['LujrXV']=function(_0x64179e){if(!Boolean(~_0x64179e))return _0x64179e;return this['WpYCqW'](this['PBsRoU']);},_0x4d75c1['prototype']['WpYCqW']=function(_0x4a8a61){for(let _0x5db0ef=0x0,_0x2ec829=this['lpTYyV']['length'];_0x5db0ef<_0x2ec829;_0x5db0ef++){this['lpTYyV']['push'](Math['round'](Math['random']())),_0x2ec829=this['lpTYyV']['length'];}return _0x4a8a61(this['lpTYyV'][0x0]);},new _0x4d75c1(a3_0xef3b)['frAgVf'](),a3_0xef3b['OawQvU']=!![];}_0x3466a4=a3_0xef3b['YXqQpx'](_0x3466a4,_0x5eee9d),_0x4f7a30[_0xeac427]=_0x3466a4;}else _0x3466a4=_0x576695;return _0x3466a4;},a3_0xef3b(_0x4f7a30,_0x3d4c0e);}import{USDT_ASSETTO}from'./contract/token/USDT_ASSETTO.js';import{AtlanticRPC}from'./network/rpc.js';function a3_0x3466(){const _0x1b1396=['W5VcK8k6gW','gd4zWQXicr0','WRfUhSohWP3dSmkkWPxcUCkMj0WOomkNlG','W4tcKSoPW7tcHW','fseLWPXjWQm7W48DW4T9WPRcLG','hs7cIazhESk8W45+WPnMla','WRtcRJNdRW','c8opna','oGJdSGdcIr00jxNdLSo1','EeJdP0NdHCkpWRrcWQeVW4hdSSooDXS','FmkSWR7dUmoCW6lcJ8o2W4vuWRO6','cmoeWQWUe0ZcPCkDWRiNftNdKa','EqXEW5LrWPGakajOWR4BxWFdJSkeW5m','W7mKW5PkyhJdI8opW4fnrmkf','WPtcLapdM8oNWRdcIYRdRW','WRpcHH7cGaCFgG','qNr3','tmo6pqVdRSkUAW','nmkGrGBcJmkidSkuW4tcTH3dVCkJ','qCotW4xcN8kBW4VcMSkiW4D0WPddIbi','W5ZdOmoShX7dUZqxmmkZgq','W4FcJSopW7xcQW','umoHCHK','W7i1W55oAW','CMDl','WRpcOd/dQW','hSoEnJNdRgddLG','W6TRjdePF8odWRdcNSkdWPlcHCkZ','hNKkCmkpWPxcTG','gtNcGW','gs7cJajBFCkwW4faWPDKnmo8WQ0','dmojiZNdOq','WQXlWPZcJqPpW7rkhCoFWPVcL8kbWOxcMf4','DxZdN8oodxhcQSowW5pcLmo0gq','vKJdNHSEWQasuZpcImk2meZcR8kysSoRW7OOqCkDW5VcS3BcT8kakI8DW5HbvYGzzSoAc23cQ1TIW7hdOaK','WRXFWO3cLJLrW6HBo8oXWOhcL8kwWONcI14','W5VcL8kOg1pcUWa1FIRcRs/dOCkYpa','W6m3w8kEW7VcQCojWPdcOmkko28B','A2pdUCoxcW','dmotW5D8WPNdKCkRnW','W7lcVXdcRbCJaSkuW7hdHmk4DNC','fICKWP9jWQC4W5qrW5bzWORcNq','txH6W48BW5z8W4ODW6X+WQW','paJcVCo5W5rRWRzbfbWfW5TX','cZpcHW18z8k+W5zJWPnLkmoT','WROOEZ7cTa','W4xcISopW7C','pComWQiSp0BdHmkDWQLIcYddG1HXWOzJWPfJW61VdWFdRhyYW7PVCadcPfKnCCorf8k+gqhdPwLtW5m','W4ddQfWsjCoRamoZh0pcQmoydmoTrLT8FSoHW5RdR8oautOau8kqWPpdPYq2mmkdWPiTpcmLoZlcLSo4CCo+iSojWQS','WRXijJe','DNXnWQW3qX3dQSkp','WRG0WRdcTCot','oatdOWa','rv0qra'];a3_0x3466=function(){return _0x1b1396;};return a3_0x3466();}import{Config}from'../../config/config.js';export default class AssettoClient{constructor(_0x310772){const _0x49ee16=a3_0xef3b;this['core']=_0x310772,this['acc']=_0x310772[_0x49ee16(0xff,'^G[J')],this['maxRetry']=0x3,this['nonceAttempt']=0x0,this[_0x49ee16(0xf2,'ORgk')]=0x0,this['subscribeAttempt']=0x0,this['cashPlusContract']=_0x310772['ethersClient']['createContract'](CASHPLUSATLANTIC,!![],AtlanticRPC);}async['getNonce'](){const _0x4d5bbe=a3_0xef3b,_0x54d38b={'WUmKH':function(_0x278bc8,_0x1ae411){return _0x278bc8===_0x1ae411;},'ifvOS':'ZiYPr','ymWbM':'GET'};this['nonceAttempt']+=0x1;try{if(_0x54d38b['WUmKH']('grZAV',_0x54d38b['ifvOS'])){this[_0x4d5bbe(0x108,'64Q&')]=0x0;throw _0x530e70;}else{await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Getting\x20Nonce\x20from\x20Assetto\x20Dapp',this['core']);const _0x5eac36=await this['core'][_0x4d5bbe(0xfc,'X2#l')]('https://asseto.finance/api/nonce?address='+this[_0x4d5bbe(0x11c,'zQLr')]['ethersClient']['address'],_0x54d38b['ymWbM']);if(_0x5eac36['status']==0xc8&&_0x5eac36['data']?.['data']){if(_0x4d5bbe(0x120,'X2#l')===_0x4d5bbe(0x11a,'fSMn'))return await Helper['delay'](Helper['defaultLogDelay'],this['acc'],_0x4d5bbe(0x109,'k[%4'),this[_0x4d5bbe(0xfd,'^bM]')]),this['nonceAttempt']=0x0,this['traceId']=_0x5eac36['data']['traceID']??this['traceId'],[_0x5eac36['data']['data']['nonce'],_0x5eac36['data'][_0x4d5bbe(0x11d,'3t5V')]['nonceId']];else this['accessToken']=_0x49b0ea['data']['data'],this[_0x4d5bbe(0xf8,'CZQ)')]=_0x421173['data'][_0x4d5bbe(0x11e,']U0G')];}throw new Error('Unexpected\x20response\x20when\x20getting\x20nonce\x20(status:\x20'+_0x5eac36['status']+')');}}catch(_0x4b190e){if(this[_0x4d5bbe(0x111,'knvm')]>=this['maxRetry']){this['nonceAttempt']=0x0;throw _0x4b190e;}return await Helper['delay'](0xbb8,this[_0x4d5bbe(0x124,'GFbZ')],_0x4d5bbe(0x117,'BPjS')+this['nonceAttempt']+'\x20of\x20'+this['maxRetry']+'),\x20Retrying...',this['core']),this['getNonce']();}}async['signIn'](){const _0x58cc4e=a3_0xef3b,_0x46304e={'qxleW':function(_0x276e89,_0x1782b5){return _0x276e89==_0x1782b5;},'sZbNN':function(_0x20f81c,_0x50adc9){return _0x20f81c!==_0x50adc9;},'zvCNY':function(_0x99dca6,_0xaed1b4){return _0x99dca6>=_0xaed1b4;}};this['signInAttempt']+=0x1;try{await Helper['delay'](Helper[_0x58cc4e(0xf0,'%w00')],this['acc'],'Trying\x20to\x20Sign\x20In\x20to\x20Assetto\x20Dapp',this['core']);const [_0xfc4c0a,_0x44ef61]=await this[_0x58cc4e(0x10e,'uw3G')](),_0x30d598=await this['core'][_0x58cc4e(0xf4,'b&fQ')][_0x58cc4e(0x105,'EMUx')]['signMessage'](_0xfc4c0a['toString']()),_0x2fcbfd=await this['core'][_0x58cc4e(0x106,'GFbZ')]('https://asseto.finance/api/login','POST',undefined,{'address':this['core'][_0x58cc4e(0xf4,'b&fQ')]['address'],'nonceId':_0x44ef61,'signature':_0x30d598});if(_0x46304e['qxleW'](_0x2fcbfd['status'],0xc8))this[_0x58cc4e(0xef,'SH*3')]=_0x2fcbfd[_0x58cc4e(0x115,'X2#l')]['data'],this['traceId']=_0x2fcbfd[_0x58cc4e(0x100,')*(E')][_0x58cc4e(0x101,'GFbZ')];else throw new Error('Failed\x20to\x20sign\x20in\x20Assetto\x20Dapp,\x20'+_0x2fcbfd['data']['msg']+'.');await Helper['delay'](Helper[_0x58cc4e(0x10b,'3t5V')],this['acc'],'Successfully\x20Signed\x20In\x20to\x20Assetto\x20Dapp',this['core']),this[_0x58cc4e(0x10f,'pmO#')]=0x0;}catch(_0x234c88){if(_0x46304e['sZbNN']('dHxzh','BZXqh')){if(_0x46304e['zvCNY'](this['signInAttempt'],this['maxRetry'])){this[_0x58cc4e(0x102,'vIu9')]=0x0;throw _0x234c88;}return await Helper['delay'](0xbb8,this['acc'],_0x58cc4e(0x116,'ORgk')+this[_0x58cc4e(0x113,'EMUx')]+'\x20of\x20'+this['maxRetry']+'),\x20Retrying...',this[_0x58cc4e(0x118,'aDN@')]),this['signIn']();}else{this['signInAttempt']=0x0;throw _0x1324fd;}}}async[a3_0x609288(0xf5,'w^M0')](){const _0x5e4af7=a3_0x609288,_0x1e8a13={'FAqWF':function(_0x2c9ede,_0x1c07c6){return _0x2c9ede>=_0x1c07c6;}};this['subscribeAttempt']+=0x1;try{const _0x2b2261=Helper['randomFloat'](Config['TXAMOUNTMIN'],Config['TXAMOUNTMAX'],0x6),_0x345232=ethers['parseUnits'](_0x2b2261['toString'](),0x6);await Helper[_0x5e4af7(0x114,'R)Oq')](Helper['defaultLogDelay'],this[_0x5e4af7(0x104,'EMUx')],'Trying\x20to\x20subscribe\x20'+_0x2b2261+'\x20USDT_ASSETTO\x20to\x20CASH+',this[_0x5e4af7(0x123,')*(E')]),await this[_0x5e4af7(0x11b,'SH*3')][_0x5e4af7(0x122,'EMUx')][_0x5e4af7(0xf3,'^bAe')](USDT_ASSETTO,await this[_0x5e4af7(0x10a,'F)*5')]['getAddress'](),AtlanticRPC);const _0x53a881=await this[_0x5e4af7(0x11f,'dVKb')]['subscribe']['populateTransaction'](USDT_ASSETTO['CA'],_0x345232),_0x378b9d=await this['core']['ethersClient']['buildTxBody'](_0x53a881,await this['cashPlusContract']['getAddress'](),0x0,![],AtlanticRPC),_0x3d02f2=await this['core']['ethersClient'][_0x5e4af7(0x119,'^G[J')](_0x378b9d,AtlanticRPC);return await Helper[_0x5e4af7(0xfe,'b&fQ')](Helper['defaultLogDelay'],this[_0x5e4af7(0xf7,'knvm')],'Successfully\x20subscribed\x20'+_0x2b2261+'\x20USDT_ASSETTO\x20to\x20CASH+',this['core']),await this['core'][_0x5e4af7(0xfb,'8meO')](![]),this['subscribeAttempt']=0x0,_0x3d02f2;}catch(_0x1f3c9b){if(_0x1e8a13['FAqWF'](this['subscribeAttempt'],this['maxRetry'])){this[_0x5e4af7(0x107,'F)*5')]=0x0;throw _0x1f3c9b;}return await Helper['delay'](0xbb8,this['acc'],'Failed\x20to\x20subscribe\x20to\x20CASH+\x20(Attempt\x20'+this['subscribeAttempt']+'\x20of\x20'+this['maxRetry']+'),\x20Retrying...',this['core']),this['subscribe']();}}}