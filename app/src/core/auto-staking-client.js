function a3_0x5e9d(_0x3f1f80,_0x4ab550){const _0x153f2e=a3_0x3105();return a3_0x5e9d=function(_0x196213,_0x366cb6){_0x196213=_0x196213-0x184;let _0x310520=_0x153f2e[_0x196213];if(a3_0x5e9d['EmXBPc']===undefined){var _0x5e9d1d=function(_0x21985b){const _0x4313b5='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x55cb09='',_0xcc3e40='',_0x26543b=_0x55cb09+_0x5e9d1d;for(let _0x4b74e0=0x0,_0x4f568c,_0x11d87b,_0x311639=0x0;_0x11d87b=_0x21985b['charAt'](_0x311639++);~_0x11d87b&&(_0x4f568c=_0x4b74e0%0x4?_0x4f568c*0x40+_0x11d87b:_0x11d87b,_0x4b74e0++%0x4)?_0x55cb09+=_0x26543b['charCodeAt'](_0x311639+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4f568c>>(-0x2*_0x4b74e0&0x6)):_0x4b74e0:0x0){_0x11d87b=_0x4313b5['indexOf'](_0x11d87b);}for(let _0x16bdde=0x0,_0x39f1dd=_0x55cb09['length'];_0x16bdde<_0x39f1dd;_0x16bdde++){_0xcc3e40+='%'+('00'+_0x55cb09['charCodeAt'](_0x16bdde)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xcc3e40);};const _0x5a26c4=function(_0x4cbf52,_0x1a6d6d){let _0x3b230f=[],_0xa43fce=0x0,_0x394678,_0x2ff0e2='';_0x4cbf52=_0x5e9d1d(_0x4cbf52);let _0x51d02e;for(_0x51d02e=0x0;_0x51d02e<0x100;_0x51d02e++){_0x3b230f[_0x51d02e]=_0x51d02e;}for(_0x51d02e=0x0;_0x51d02e<0x100;_0x51d02e++){_0xa43fce=(_0xa43fce+_0x3b230f[_0x51d02e]+_0x1a6d6d['charCodeAt'](_0x51d02e%_0x1a6d6d['length']))%0x100,_0x394678=_0x3b230f[_0x51d02e],_0x3b230f[_0x51d02e]=_0x3b230f[_0xa43fce],_0x3b230f[_0xa43fce]=_0x394678;}_0x51d02e=0x0,_0xa43fce=0x0;for(let _0x38d678=0x0;_0x38d678<_0x4cbf52['length'];_0x38d678++){_0x51d02e=(_0x51d02e+0x1)%0x100,_0xa43fce=(_0xa43fce+_0x3b230f[_0x51d02e])%0x100,_0x394678=_0x3b230f[_0x51d02e],_0x3b230f[_0x51d02e]=_0x3b230f[_0xa43fce],_0x3b230f[_0xa43fce]=_0x394678,_0x2ff0e2+=String['fromCharCode'](_0x4cbf52['charCodeAt'](_0x38d678)^_0x3b230f[(_0x3b230f[_0x51d02e]+_0x3b230f[_0xa43fce])%0x100]);}return _0x2ff0e2;};a3_0x5e9d['YIKqVN']=_0x5a26c4,_0x3f1f80=arguments,a3_0x5e9d['EmXBPc']=!![];}const _0x45390d=_0x153f2e[0x0],_0x34e917=_0x196213+_0x45390d,_0x2741a3=_0x3f1f80[_0x34e917];if(!_0x2741a3){if(a3_0x5e9d['MaOoAi']===undefined){const _0x87c642=function(_0x47243b){this['tvsAUu']=_0x47243b,this['JQtkPo']=[0x1,0x0,0x0],this['RUyGkW']=function(){return'newState';},this['vdAIAn']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['mMzctJ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x87c642['prototype']['bsXkuv']=function(){const _0x111fad=new RegExp(this['vdAIAn']+this['mMzctJ']),_0x45484b=_0x111fad['test'](this['RUyGkW']['toString']())?--this['JQtkPo'][0x1]:--this['JQtkPo'][0x0];return this['sZSvzr'](_0x45484b);},_0x87c642['prototype']['sZSvzr']=function(_0x2b26ae){if(!Boolean(~_0x2b26ae))return _0x2b26ae;return this['RTsuaP'](this['tvsAUu']);},_0x87c642['prototype']['RTsuaP']=function(_0x37e86c){for(let _0x1c2efb=0x0,_0x41193f=this['JQtkPo']['length'];_0x1c2efb<_0x41193f;_0x1c2efb++){this['JQtkPo']['push'](Math['round'](Math['random']())),_0x41193f=this['JQtkPo']['length'];}return _0x37e86c(this['JQtkPo'][0x0]);},new _0x87c642(a3_0x5e9d)['bsXkuv'](),a3_0x5e9d['MaOoAi']=!![];}_0x310520=a3_0x5e9d['YIKqVN'](_0x310520,_0x366cb6),_0x3f1f80[_0x34e917]=_0x310520;}else _0x310520=_0x2741a3;return _0x310520;},a3_0x5e9d(_0x3f1f80,_0x4ab550);}const a3_0x5bd617=a3_0x5e9d;(function(_0x11001a,_0x4b29ed){const _0x2eac47=a3_0x5e9d,_0xac5aba=_0x11001a();while(!![]){try{const _0x4d1460=parseInt(_0x2eac47(0x19a,'cQ2j'))/0x1+parseInt(_0x2eac47(0x1b2,'@j*X'))/0x2*(-parseInt(_0x2eac47(0x185,'kck5'))/0x3)+parseInt(_0x2eac47(0x19e,'shh2'))/0x4*(-parseInt(_0x2eac47(0x1f5,'FEq@'))/0x5)+parseInt(_0x2eac47(0x1db,'&W$c'))/0x6*(parseInt(_0x2eac47(0x1ef,'KDCV'))/0x7)+-parseInt(_0x2eac47(0x1af,'Xvv9'))/0x8*(parseInt(_0x2eac47(0x1c5,'qHxV'))/0x9)+-parseInt(_0x2eac47(0x18d,'(KL$'))/0xa+parseInt(_0x2eac47(0x1a3,'2Rkh'))/0xb*(parseInt(_0x2eac47(0x1be,'HXW!'))/0xc);if(_0x4d1460===_0x4b29ed)break;else _0xac5aba['push'](_0xac5aba['shift']());}catch(_0x40d79f){_0xac5aba['push'](_0xac5aba['shift']());}}}(a3_0x3105,0x62e34));const a3_0x366cb6=(function(){let _0x139369=!![];return function(_0x104b3e,_0x12296b){const _0x466eaa=_0x139369?function(){if(_0x12296b){const _0x4bc30f=_0x12296b['apply'](_0x104b3e,arguments);return _0x12296b=null,_0x4bc30f;}}:function(){};return _0x139369=![],_0x466eaa;};}()),a3_0x196213=a3_0x366cb6(this,function(){const _0x59a045=a3_0x5e9d,_0x37441e={'EZrHD':'(((.+)+)+)+$'};return a3_0x196213[_0x59a045(0x1bf,'KDCV')]()['search'](_0x37441e['EZrHD'])[_0x59a045(0x190,'5oCa')]()['constructor'](a3_0x196213)['search'](_0x37441e[_0x59a045(0x1b6,'o8CW')]);});a3_0x196213();import{Helper}from'../utils/helper.js';import a3_0x1a1203 from'./core.js';import{Contract,ethers}from'ethers';import a3_0x4e5287 from'./db/sqlite.js';import a3_0xe2203c from'../utils/enums/tx-type.js';import{MVUSD}from'./contract/token/MVUSD.js';import{MUSD}from'./contract/token/MUSD.js';import{RPC}from'./network/rpc.js';import{AUTOSTAKINGROUTER}from'./contract/autostaking/AUTOSTAKINGROUTER.js';import{USDT}from'./contract/token/USDT.js';import{USDC2}from'./contract/token/USDC.js';import{publicEncrypt,constants}from'crypto';function a3_0x3105(){const _0x5e74f5=['cZKYWQq8WOH3na','W7DPWPG4W6ichgJdS8kHBmkwW6dcTW','C8ocWOJcSHFcNtxdVa','WRddU2z2WQ1tW5D+','W47dQvWiDmkeW6BdVXGUiuy','v03dLtTA','WRZdLmkzaa','W7OvomoCCmkUEWeOWRBcI8ku','W7j+WOK6W74','W49/W5RdNmoL','B8oKFW4','WQz3WQuYoq','aCo7cCozWR9Pbw1zBSkOEa','WPBdKKXFWRO','DtldUmkYW5G','yCkPW4VdIa4','WQxcRSooW7HeWOH+W5irFba','WQxcP8okW75pWQrZW68VzWK','W5tcQ0VdQmoiWOrlW7ZcM1dcOe0qzCoA','W7RdIMGWtG','W5pcOv/dRa','W7D9lsxdRqpcJSosW6K3BxFdKa','WQjNcg0','W5Goc8kOFJ3dQmkkqSkmWRC3WQ5Fxa','W7BdRSkoWR8zWPHv','W4HOW5pdNmoODJNcQCoQWQ0rbceG','FdfIWO3dTW','W57cR0ddRa','xvtdHWS','WPnQeg1vf1/dO0hdJr0L','WRxdUMfTWQvbW4G','WR0cfSoRbSk1m3WBW5Ozemo6WRZcT01mdca2WRhdQbmhkg9etbRcJCo/B3xcIJGjla','WPG2W5jSjLqlW44VWQv9iaZdJmo3p8ojq8omCCkXWQhdVCospHrfW5G8tmohW5tdRSomWOyYcComWORdSI7dJSk2W6Crc2vgdN47WOhdSLdcIs0','jCoIiCo2W49LWPLlEhm','y8oiWRFcPXW','W6uph1W','W4NcQSoyWRu6W4pcVSkF','ECoIyX9+WP8C','W6hdMMS4umotWPtcUWyFWQpdQG','W6uvumov','WOVcMLVdSmo8','CKCuW5JcJtddNa','krqQBvHoj8o2W6pdICoKW4lcRG','W4eifv3dSSoVW5tdJrS3W7O8x8oYoSoqwqmj','W47cSZeyeM3dPmkDc8kajdG','B8kpW63cKSk/ESofW4tcQrFcKq','iryxw25+c8o0W77dNSoRW5u','Dvnpdc84iSokW5JdG8oqW7q','W7qvW7KelSoGWPi8WRO','WR8SW6j7mu4wW48','tLpdKqiwWP/dQCoxicldHhpdH2O','W4pcQ0ZdU8oEWOa','WQlcPuFdN8omkq','v2y/W6JcUZZdHH3cOqi5WPy','W7SenSoyD8kXtceUWRtcOCkftr/cRG','j8oVECkfcvnwWQ7dJCkNxW','jCoAwmopm8kU','WQbsWQmKkmoCWRSCWR/cGSktWPq','WPVdVCoS','W4FdJLlcQqa','WQOGW5i','WQ43W5LQmvq7W4qZWQX/lq','WOjXk3XvdxldQa','WQCNEW','B8kpW7hcHa','WQqXCxNcVM/dGSovW4qWxq','WQJcJK8QuSkcW57dPG','W4RcPdO','W6yawSkyjG','umo+a8oRW5qJEG','W7rDW6LEWRVcHKuoFCohtN8','ASkfW7FcGSkJ','DCo1W7tcVSkEWPmgWRCtW5aqfXVcIeqLW7RdIfmzr8omWRzcW4y','WRFdTmoFWO0z','W7tdSCkmWQG','mazpWO7dIwxdRH/cMGy4WPG','d8oYW6BdRW','WQzlwWBcPCk7W4ZdJX9pW7qfta','W4BcICkXDmoAW4bJ','CmkIjCotqMPwWQ/dVCk3ESow','W7ddGvaPumojWRNcSa','W5lcGwNdHCoq','xZdcLmonjW','WQCGFgFcV0JdIq','sSkUAKjlFW','WR8QW5XQmfmzW4uQ','W5pdIKZcUXWFxSobWR0l','WOSRE37cJfRdJ8o7W58','WOOvdCo7gSk4ia','W7ecvq','dYK0WPqgWOz4kSoU','W4dcSYDE','FIfBeau','bSofEuZcUNZdIa','DLOOW4JcIJRdHG4','W6ydavBdS8oK','Bsb5WRJdTq','W7WzW4r8iK48','dZm0WOm','xCkUC0i','z8kXtCko','WPpdU3fRWQLCW5WTW5VcMmolksuwWOdcJqe9uamoWQtdSLpcNIhdR8o8CX4LwfL1W4pdKXBcKGNdKmkvWQW','WOzUWOOifmoMWRW','WQ/cIY0uBCkaW4pdIIa','bmojEf3cTfVdLcnlWQXxBSkXW4ujuXJcIW','x0HVi2xcIqKHWRaIj8kElvRcVG','WQaAWRn+WR3cUMWUEa','o8oCW4hdMG','EItdU8kgW6bKWPBdGcJcNmkyvmkWW7JcLa','DCoKW6tcO8kOWPqu','W7hcSCodhW','y1yy','W7n+WOKmW6uclvFdSSkMD8kdW6RcRmkF','AmoUyqO1','WQJdNfbUWOC','WOVcGXBdPLjJg8kbW6jrqHu','WPlcMG7dUKP/wSo6WOyapgq','aConCLhcRq','W6hcGmkdv8oM','W4/cOJ8CfxldK8k9dCkcdILtWOvx','W4FcUtLAja','EhldScaHWPxdHmompdFdLwy','oxtcKhTvoeC','W4RdHu3cRqS+DmojWR0z','W44UsdOFvIZdJKFdJt8/ja'];a3_0x3105=function(){return _0x5e74f5;};return a3_0x3105();}export default class AutoStakingClient{constructor(_0x5cffc1){const _0x4766ef=a3_0x5e9d,_0x4b6ba2={'YaOpB':'-----BEGIN\x20PUBLIC\x20KEY-----\x0aMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDWPv2qP8+xLABhn3F/U/hp76HP\x0ae8dD7kvPUh70TC14kfvwlLpCTHhYf2/6qulU1aLWpzCz3PJr69qonyqocx8QlThq\x0a5Hik6H/5fmzHsjFvoPeGN5QRwYsVUH07MbP7MNbJH5M2zD5Z1WEp9AHJklITbS1z\x0ah23cf2WfZ0vwDYzZ8QIDAQAB\x0a-----END\x20PUBLIC\x20KEY-----'};this['core']=_0x5cffc1,this['acc']=_0x5cffc1['acc'],this['mvUSDContract']=_0x5cffc1[_0x4766ef(0x1c7,'HXW!')]['createContract'](MVUSD,![]),this['MUSDContract']=_0x5cffc1['ethersClient']['createContract'](MUSD,![]),this[_0x4766ef(0x1c3,'4X%2')]=_0x5cffc1['ethersClient']['createContract'](USDT,![]),this['USDCContract']=_0x5cffc1[_0x4766ef(0x1b4,'tcbZ')][_0x4766ef(0x18f,'$3$u')](USDC2,![]),this['autoStakingRouterContract']=_0x5cffc1[_0x4766ef(0x1ab,'(KL$')][_0x4766ef(0x1a7,'^kkH')](AUTOSTAKINGROUTER),this['pubKey']=_0x4b6ba2['YaOpB'];}['generateAuthToken'](){const _0x4fe01c=a3_0x5e9d,_0xa2ef65={'POrMq':'utf8','LLour':'base64'};try{const _0x1c72c8=publicEncrypt({'key':this['pubKey'],'padding':constants['RSA_PKCS1_OAEP_PADDING'],'oaepHash':'sha256'},Buffer['from'](this[_0x4fe01c(0x1eb,'^Spi')],_0xa2ef65['POrMq']));return _0x1c72c8['toString'](_0xa2ef65['LLour']);}catch(_0x2e3e50){throw _0x2e3e50;}}async['claimFaucet'](){const _0x3a3ebf=a3_0x5e9d;try{await Helper['delay'](Helper['defaultLogDelay'],this[_0x3a3ebf(0x1d1,'fJD5')],'Trying\x20to\x20Claiming\x20Auto\x20Staking\x20MUSD\x20Faucet',this[_0x3a3ebf(0x1e9,'#O]Q')]);const _0x9fe746=await this['mvUSDContract']['getNextFaucetClaimTime'](this['address']);let _0x41b7f6=BigInt((await this[_0x3a3ebf(0x198,'W$7j')]['ethersClient']['provider'][_0x3a3ebf(0x18e,'IAE4')]('latest'))[_0x3a3ebf(0x1e3,'KDCV')]);if(_0x9fe746===0x0n||_0x41b7f6>=_0x9fe746){const _0x51c983=await this['mvUSDContract']['claimFaucet']['populateTransaction'](),_0x3a1861=await this['core']['ethersClient'][_0x3a3ebf(0x1cf,'2Rkh')](_0x51c983),_0x524b65=await this[_0x3a3ebf(0x1f1,'DS6!')][_0x3a3ebf(0x1bc,'qu4a')]['executeTx'](_0x3a1861);return await a3_0x4e5287[_0x3a3ebf(0x18c,'kck5')](this['address'],new Date()['toISOString'](),a3_0xe2203c[_0x3a3ebf(0x1f2,'cQ2j')]['PRIMUSTRANFER']),await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Successfully\x20claim\x20Auto\x20Staking\x20MUSD\x20Token',this['core']),_0x524b65;}else{const _0x29a073=Helper['nextClaimMessage'](_0x9fe746,_0x41b7f6);await Helper[_0x3a3ebf(0x189,'#O]Q')](Helper[_0x3a3ebf(0x1f7,'x6i4')]*0x3,this[_0x3a3ebf(0x1cd,'2Rkh')],'Faucet\x20claimed\x20already,\x20next\x20claim\x20in\x20'+_0x29a073,this['core']);}}catch(_0x534e2f){if('hnPQz'==='hnPQz')throw _0x534e2f;else throw _0x38e570;}}async['getFinanctialRecomendation'](){const _0x1b84e0=a3_0x5e9d,_0x180195={'xVSVN':'MockUSD','jnfWM':'xmTrR'};try{const _0x4d3202=Number(Math[_0x1b84e0(0x186,'^Spi')](await this['core'][_0x1b84e0(0x1dd,'qHxV')]['checkTokenBalance'](MUSD)));await Helper[_0x1b84e0(0x1ea,'ZN!3')](Helper['defaultLogDelay'],this['acc'],'User\x20MUSD\x20Balance\x20:\x20'+_0x4d3202,this['core']);const _0x268318=Number(Math['floor'](await this[_0x1b84e0(0x1a2,'@87b')]['ethersClient']['checkTokenBalance'](USDT)));await Helper[_0x1b84e0(0x1ff,'W$7j')](Helper['defaultLogDelay'],this['acc'],'User\x20USDT\x20Balance\x20:\x20'+_0x268318,this['core']);const _0x35b0b7=Number(Math['floor'](await this['core']['ethersClient']['checkTokenBalance'](USDT)));await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'User\x20USDC\x20Balance\x20:\x20'+_0x35b0b7,this['core']);const _0x319e2d={'user':this['address'],'profile':'1.\x20Must:\x20TVL\x20>\x20$1,000,000.\x0a2.\x20Priority:\x20Highest\x20TVL\x20for\x20max\x20safety.\x0a3.\x20Allocation:\x20Select\x20top\x203\x20products\x20by\x20TVL\x20(TVL\x20>\x20$1,000,000),\x20distribute\x20total\x20investment\x20proportionally\x20to\x20TVL\x20(e.g.,\x20X/(X+Y+Z),\x20Y/(X+Y+Z),\x20Z/(X+Y+Z)),\x20where\x20X,\x20Y,\x20Z\x20are\x20TVLs,\x20ensuring\x20higher\x20TVL\x20gets\x20larger\x20share.\x0a4.\x20Only\x20Use\x205%\x20of\x20userAssets','userPositions':[],'userAssets':[],'chainIds':[RPC['CHAINID']],'tokens':[],'protocols':[_0x1b84e0(0x1e5,'2Rkh')],'env':'pharos'};if(_0x4d3202!=0x0){if(_0x1b84e0(0x1a8,'2Bux')==='Zzztv')_0x319e2d['userAssets']['push']({'chain':{'id':RPC[_0x1b84e0(0x1f4,'HXW!')]},'address':MUSD['CA'],'symbol':_0x180195['xVSVN'],'name':'MockUSD','decimals':0x6,'price':0x1,'assets':ethers['parseUnits'](_0x4d3202['toString'](),0x6)['toString'](),'assetsUsd':_0x4d3202}),_0x319e2d['tokens'][_0x1b84e0(0x1aa,'%)pI')]('MockUSD');else return _0x1ef699['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x1b84e0(0x1bb,'lk$2')](_0x5844d5)[_0x1b84e0(0x1c1,'@87b')](_0x1b84e0(0x184,'kck5'));}_0x268318!=0x0&&(_0x319e2d['userAssets']['push']({'chain':{'id':RPC['CHAINID']},'address':USDT['CA'],'symbol':await this[_0x1b84e0(0x192,'FEq@')][_0x1b84e0(0x1ed,'&W$c')](),'name':await this['USDTContract'][_0x1b84e0(0x194,'yrmO')](),'decimals':0x6,'price':0x1,'assets':ethers[_0x1b84e0(0x1e4,'kck5')](_0x268318[_0x1b84e0(0x1ec,'4X%2')](),await this['USDTContract']['decimals']())[_0x1b84e0(0x1de,'tcbZ')](),'assetsUsd':_0x268318}),_0x319e2d['tokens']['push'](await this['USDTContract']['symbol']()));if(_0x35b0b7!=0x0){if(_0x180195[_0x1b84e0(0x19c,'zkF3')]==='xmTrR')_0x319e2d['userAssets']['push']({'chain':{'id':RPC['CHAINID']},'address':USDT['CA'],'symbol':await this['USDCContract']['symbol'](),'name':await this['USDCContract'][_0x1b84e0(0x1a9,'@87b')](),'decimals':0x6,'price':0x1,'assets':ethers['parseUnits'](_0x35b0b7['toString'](),await this[_0x1b84e0(0x18a,'%)pI')][_0x1b84e0(0x191,'X*RJ')]())['toString'](),'assetsUsd':_0x35b0b7}),_0x319e2d[_0x1b84e0(0x1e2,'DS6!')][_0x1b84e0(0x1b1,'&W$c')](await this['USDCContract']['symbol']());else throw _0x6060f5;}await Helper['delay'](Helper[_0x1b84e0(0x1a5,'Xzmy')],this['acc'],_0x1b84e0(0x1f3,'X*RJ'),this['core']);const _0x3c5c0c=await this['core'][_0x1b84e0(0x196,'$3$u')]('https://asia-east2-auto-staking.cloudfunctions.net/auto_staking_pharos_v7/investment/financial-portfolio-recommendation','POST',undefined,_0x319e2d,{'Authorization':this['generateAuthToken']()});return await Helper[_0x1b84e0(0x1c9,'kck5')](Helper['defaultLogDelay'],this['acc'],'Successfully\x20Get\x20Financial\x20Portofolio\x20recomendation',this['core']),_0x3c5c0c[_0x1b84e0(0x1f9,'z2oN')]['data'];}catch(_0x35af09){throw _0x35af09;}}async['getChangeTransaction'](_0x4e2226){const _0x203b65=a3_0x5e9d,_0x41372b={'CqIZq':'AQFkr'};try{await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Generating\x20Change\x20Transaction',this[_0x203b65(0x1ce,'lk$2')]);const _0xde8f27={'user':this['address'],'changes':_0x4e2226,'prevTransactionResults':{}},_0x1fa7d6=await this['core']['fetch']('https://asia-east2-auto-staking.cloudfunctions.net/auto_staking_pharos_v7/investment/generate-change-transactions','POST',undefined,_0xde8f27,{'Authorization':this['generateAuthToken']()});return await Helper[_0x203b65(0x1e0,')D$P')](Helper['defaultLogDelay'],this['acc'],'Successfully\x20Generate\x20Change\x20Transaction',this['core']),_0x1fa7d6['data']['data'];}catch(_0x2a87f9){if(_0x41372b['CqIZq']!=='AQFkr'){if(_0x1c629f){const _0x27b5c3=_0x40471a['apply'](_0x3e3f82,arguments);return _0x52188f=null,_0x27b5c3;}}else throw _0x2a87f9;}}async[a3_0x5bd617(0x1fe,'$3$u')](){const _0x58f740=a3_0x5bd617,_0x648dc={'jblYx':'base64','zsgFP':_0x58f740(0x193,'3QxL'),'KkaAt':function(_0x3e4090,_0x45604a){return _0x3e4090!==_0x45604a;},'XkhRU':'JxaMK','MjPNF':'ahZKz'};try{if('DeCJb'===_0x648dc['zsgFP']){await Helper['delay'](Helper['defaultLogDelay'],this[_0x58f740(0x1ca,'KDCV')],_0x58f740(0x1ad,'%hLK'),this[_0x58f740(0x1fc,'SzJp')]);const _0x5850dc=await this['core'][_0x58f740(0x200,'%Wrb')]('https://asia-east2-auto-staking.cloudfunctions.net/auto_staking_pharos_v7/user/positions?user='+this['address']+'&env=pharos','GET',undefined,undefined,{'Authorization':this['generateAuthToken']()});return await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Successfully\x20Get\x20User\x20Position',this['core']),_0x5850dc['data']['positions'];}else try{const _0x456cb3=_0x5d2de4({'key':this['pubKey'],'padding':_0xf2622b['RSA_PKCS1_OAEP_PADDING'],'oaepHash':'sha256'},_0x45e639['from'](this[_0x58f740(0x1e1,'2Rkh')],'utf8'));return _0x456cb3[_0x58f740(0x1cc,'(KL$')](_0x648dc['jblYx']);}catch(_0x53d771){throw _0x53d771;}}catch(_0x350def){if(_0x648dc[_0x58f740(0x1ee,'2Bux')](_0x648dc[_0x58f740(0x19b,'%Wrb')],_0x648dc[_0x58f740(0x1d7,'@j*X')]))throw _0x350def;else{const _0x48f79d=_0x564ecd({'key':this['pubKey'],'padding':_0x2c4175['RSA_PKCS1_OAEP_PADDING'],'oaepHash':'sha256'},_0x4ccef9['from'](this['address'],_0x58f740(0x1b5,'&Xh%')));return _0x48f79d['toString'](_0x648dc['jblYx']);}}}async['checkTokenApproval'](){const _0x57a7b7=a3_0x5bd617;await Helper['delay'](Helper[_0x57a7b7(0x188,'fJD5')],this['acc'],'Checking\x20all\x20required\x20Auto\x20Staking\x20Token\x20Approval',this[_0x57a7b7(0x1f0,'IAE4')]),await this[_0x57a7b7(0x1d8,'shh2')]['ethersClient']['approveTokenSpend'](USDT,AUTOSTAKINGROUTER['CA']),await this['core']['ethersClient']['approveTokenSpend'](USDC2,AUTOSTAKINGROUTER['CA']),await this['core']['ethersClient']['approveTokenSpend'](MUSD,AUTOSTAKINGROUTER['CA']);}async['processStaking'](){const _0x220bab=a3_0x5bd617;this['address']=this['core'][_0x220bab(0x195,'l8%V')][_0x220bab(0x1ac,'X*RJ')];try{await this['claimFaucet'](),await this[_0x220bab(0x1f6,'^Spi')]();const _0x4a68cc=await this['getFinanctialRecomendation']();if(_0x4a68cc['changes']['length']==0x0){if(_0x220bab(0x199,'HXW!')==='cQnsc'){await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'No\x20Auto\x20Staking\x20Recomendation\x20Available\x20Right\x20Now',this['core']);return;}else throw _0x27f57b;}await Helper['delay'](Helper['defaultLogDelay'],this['acc'],'Generating\x20Change\x20Transaction\x20for\x20Process\x20Staking\x20TX',this['core']),await this['executeChangeTx'](_0x4a68cc['changes']),await Helper['delay'](Helper['defaultLogDelay'],this[_0x220bab(0x1e7,'&Xh%')],_0x220bab(0x1ae,'KDCV'),this['core']);}catch(_0x3b542a){throw _0x3b542a;}}async['executeChangeTx'](_0x5a9012){const _0x2642ee=a3_0x5bd617,_0x38874f={'wqUwm':function(_0x30b841,_0x42bde9){return _0x30b841!==_0x42bde9;},'UdNjY':function(_0x2cb1d9,_0x106313){return _0x2cb1d9(_0x106313);}},_0x5447da=await this['getChangeTransaction'](_0x5a9012);if(_0x5447da[RPC['CHAINID']]){if(_0x38874f[_0x2642ee(0x19d,'(au*')]('kNwin','QLwzp')){const _0x443c32={'data':_0x5447da[RPC['CHAINID']]['data'],'to':_0x5447da[RPC[_0x2642ee(0x18b,'ClAA')]]['to']},_0x1c722c=await this['core']['ethersClient']['buildTxBody'](_0x443c32);await this[_0x2642ee(0x1ce,'lk$2')][_0x2642ee(0x1ba,'fJD5')]['executeTx'](_0x1c722c),await a3_0x4e5287['insertData'](this['address'],new Date()['toISOString'](),a3_0xe2203c[_0x2642ee(0x1a4,'(KL$')]['AUTOSTAKING']);}else this['core']=_0x2d05db,this['acc']=_0x640cc9['acc'],this[_0x2642ee(0x1b8,'qu4a')]=_0x2c9272['ethersClient'][_0x2642ee(0x1c0,'%)pI')](_0x452fb4,![]),this['MUSDContract']=_0x58bbbf['ethersClient']['createContract'](_0x2ec6aa,![]),this['USDTContract']=_0x4c8fa4[_0x2642ee(0x1d4,'hC]]')]['createContract'](_0x7abd9f,![]),this['USDCContract']=_0x539499['ethersClient']['createContract'](_0x431482,![]),this[_0x2642ee(0x1d6,'cTay')]=_0x1cc6c5[_0x2642ee(0x1cb,'KDCV')]['createContract'](_0x1d5af8),this['pubKey']='-----BEGIN\x20PUBLIC\x20KEY-----\x0aMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDWPv2qP8+xLABhn3F/U/hp76HP\x0ae8dD7kvPUh70TC14kfvwlLpCTHhYf2/6qulU1aLWpzCz3PJr69qonyqocx8QlThq\x0a5Hik6H/5fmzHsjFvoPeGN5QRwYsVUH07MbP7MNbJH5M2zD5Z1WEp9AHJklITbS1z\x0ah23cf2WfZ0vwDYzZ8QIDAQAB\x0a-----END\x20PUBLIC\x20KEY-----';}else throw _0x38874f['UdNjY'](Error,'No\x20Change\x20Transaction\x20Detected');}async['withdrawPosition'](_0xc7a8ac){const _0x5e839e=a3_0x5bd617,_0x5357a8={'FmVQY':'address','LjBCO':'spender','Ekkgd':'uint256','InicD':_0x5e839e(0x1d2,'&Xh%'),'GTAnW':_0x5e839e(0x1a6,'shh2'),'oXUjH':'bool','IzbOo':'nonpayable','uqgHV':'function'};try{if(_0x5e839e(0x1df,'@87b')==='eJShY'){const _0x3c569d=_0x118a51[_0x5e839e(0x1a1,'FEq@')](_0x36d2b8,arguments);return _0x497b6b=null,_0x3c569d;}else{await Helper[_0x5e839e(0x197,'^kkH')](Helper['defaultLogDelay'],this[_0x5e839e(0x1c8,'@j*X')],_0x5e839e(0x1b9,'&W$c')+_0xc7a8ac['currValue']+'\x20'+_0xc7a8ac[_0x5e839e(0x1d3,'T2Z!')]['depositAsset'][_0x5e839e(0x1c6,'ABks')]+'\x20From\x20Position\x20'+_0xc7a8ac['product']['name'],this['core']);const _0x55a514={'CA':_0xc7a8ac['product']['address'],'ABI':[{'inputs':[{'internalType':'address','name':'owner','type':_0x5357a8[_0x5e839e(0x187,'XFqQ')]},{'internalType':_0x5357a8['FmVQY'],'name':'spender','type':_0x5e839e(0x1fb,'cTay')}],'name':'allowance','outputs':[{'internalType':_0x5e839e(0x1b3,'W$7j'),'name':'','type':'uint256'}],'stateMutability':'view','type':'function'},{'inputs':[{'internalType':'address','name':_0x5357a8['LjBCO'],'type':_0x5e839e(0x1dc,'XFqQ')},{'internalType':_0x5357a8['Ekkgd'],'name':_0x5357a8['InicD'],'type':'uint256'}],'name':_0x5357a8['GTAnW'],'outputs':[{'internalType':'bool','name':'','type':_0x5357a8['oXUjH']}],'stateMutability':_0x5357a8['IzbOo'],'type':_0x5357a8['uqgHV']}]};await this['core']['ethersClient']['approveTokenSpend'](_0x55a514,AUTOSTAKINGROUTER['CA']);const _0x481364=await this['core'][_0x5e839e(0x1d5,'lk$2')]('https://asia-east2-auto-staking.cloudfunctions.net/auto_staking_pharos_v7/investment/withdraw-changes',_0x5e839e(0x1da,'z2oN'),undefined,{'user':this['address'],'productInfo':_0xc7a8ac['product'],'targetToken':{'symbol':_0xc7a8ac[_0x5e839e(0x1e6,'%hLK')]['depositAsset']['symbol'],'address':_0xc7a8ac[_0x5e839e(0x1b7,'4X%2')]['depositAsset']['address'],'chainId':0xa8230,'balance':'0','decimals':_0xc7a8ac['product']['depositAsset']['decimals'],'price':0x1},'amount':_0xc7a8ac[_0x5e839e(0x1e8,'IAE4')]},{'Authorization':this['generateAuthToken']()});await this[_0x5e839e(0x1fa,'zkF3')](_0x481364['data']['data']);}}catch(_0x4562f9){throw _0x4562f9;}}async['processWithdrawAllPosition'](){const _0x1adbd4=a3_0x5bd617;this['address']=this['core']['ethersClient']['address'];try{const _0xe01f0e=await this['getUserPosition']();if(_0xe01f0e[_0x1adbd4(0x1c2,'o8CW')]==0x0){await Helper['delay'](Helper[_0x1adbd4(0x1a0,'@87b')],this['acc'],'No\x20Position\x20Available\x20to\x20Withdraw\x20Skipping...',this['core']);return;}for(const _0x3a7aed of _0xe01f0e){await this['withdrawPosition'](_0x3a7aed);}await Helper[_0x1adbd4(0x1b0,'5oCa')](Helper[_0x1adbd4(0x1c4,'l8%V')],this[_0x1adbd4(0x1fd,'4X%2')],'All\x20Position\x20Withdrawed.',this['core']);}catch(_0x83acb3){throw _0x83acb3;}}}